[Changelog]
opsi-client-agent (4.2.0.23-1) stable; urgency=low

  * Updated opsiclientd to 4.2.0.108 (reworked opsi-setup-user cleanup)
  * Removed Kiosk Migration. Do not install this package over opsi-client-agent < 4.1.1.18 (serverside) if using kiosk!

-- Nils Doerrer <n.doerrer@uib.de> Tue, 08 Feb 2022 11:00:00 +0100

opsi-client-agent (4.2.0.22-1) stable; urgency=low

  * Updated opsi-login-blocker to 4.2.0.2
  * Updated opsiclientd to 4.2.0.107 (improved logging output, possibility to skip firewall setup, updated packages)
  * Updated oca-installation-helper to 4.2.0.13 (fix for macos, new parameter --force-recreate-client)
  * Avoid duplicate permission setting if not neccessary.

-- Nils Doerrer <n.doerrer@uib.de> Tue, 08 Feb 2022 11:00:00 +0100

opsi-client-agent (4.2.0.21-2) stable; urgency=low

  * exit with error if permissions cant be set.

-- Nils Doerrer <n.doerrer@uib.de> Fri, 04 Feb 2022 09:00:00 +0100

opsi-client-agent (4.2.0.21-1) stable; urgency=low

  * Updated opsiclientd to 4.2.0.105
  * Updated opsi-deploy-client-agent to 4.2.0.17 (set timeouts, added parameter --install-timeout)
  * Updated oca-installation-helper to 4.2.0.12
  * On reinstallation via netboot, keep pending actionRequests (like always)

-- Nils Doerrer <n.doerrer@uib.de> Thu, 03 Feb 2022 15:00:00 +0100

opsi-client-agent (4.2.0.20-2) stable; urgency=low

  * stop installation if previous opsiclientd is < 4.2.0.77 and operating in WAN mode

-- Nils Doerrer <n.doerrer@uib.de> Wed, 02 Jan 2022 17:00:00 +0100

opsi-client-agent (4.2.0.20-1) stable; urgency=low

  * Dependency to opsi-script >= 4.12.4.35
  * Improved uninstallation script
  * Updated oca-installation-helper to 4.2.0.11 (powershell allsigned change, adapted proxy handling)
  * Improved installation in wim-capture-kontext (not setting installed packages to setup)
  * Connectivity check during setup
  * Updated opsiclientd to 4.2.0.104

-- Nils Doerrer <n.doerrer@uib.de> Thu, 06 Jan 2022 16:30:00 +0100

opsi-client-agent (4.2.0.19-2) stable; urgency=low

  * Reverted powershell fix
  * Updated opsiclientd to 4.2.0.103

-- Nils Doerrer <n.doerrer@uib.de> Wed, 22 Dec 2021 13:00:00 +0100

opsi-client-agent (4.2.0.19-1) stable; urgency=low

  * Update opsi-login-blocker to 4.2.0.1
  * Update opsiclientd to 4.2.0.102 (event handling fix)
  * Update oca-installation-helper to 4.2.0.9 (windows 7 tempdir fix)
  * Allsigned compatible powershell calls
  * Fixed allow_reboot in case of very old previous opsi-client-agent version

-- Jan Schneider <j.schneider@uib.de> Tue, 21 Dec 2021 14:30:00 +0100

opsi-client-agent (4.2.0.18-2) stable; urgency=low

  * Update oca-installation-helper to 4.2.0.8 (minor logging fix)

-- Nils Doerrer <n.doerrer@uib.de> Mon, 16 Dec 2021 12:00:00 +0100

opsi-client-agent (4.2.0.18-1) stable; urgency=low

  * Rotate instlog during os installation
  * Update opsiclientd to 4.2.0.100 (event handling fix)
  * Update oca-installation-helper to 4.2.0.7 (proxy handling fix)
  * Fixed uninstall (Registry access by sysnative)
  * Update opsi-script to 4.12.4.33 (FileVersionInfo fix)

-- Jan Schneider <j.schneider@uib.de> Mon, 15 Dec 2021 11:24:00 +0100

opsi-client-agent (4.2.0.17-1) stable; urgency=low

  * Fix: old opsiclientd version does not handle restart marker
  * Updated opsiclientd to 4.2.0.99 (WAN mode - fix modules handling)

-- Jan Schneider <j.schneider@uib.de> Mon, 06 Dec 2021 15:45:00 +0100

opsi-client-agent (4.2.0.16-1) stable; urgency=low

  * Improved checking for Powershell restrictions
  * Update opsi-notifier to 4.2.0.3 (timepicker fix)
  * Update opsiclientd to 4.2.0.98
    - feature: temporary popup notifications
    - fix: event config inheritance
    - fix: only save current custom skin if it is nonempty
    - fix: update choices in time select notifier while running
  * Workaround for access denied on rename of bin folder
  * Installing opsi-script if not present (ahead of update_action_processor)
  * Updated oca-installation-helper to 4.2.0.6
  * Add parameter /u to service_setup.cmd

-- Nils Doerrer <n.doerrer@uib.de> Tue, 01 Dec 2021 13:30:00 +0100

opsi-client-agent (4.2.0.15-1) stable; urgency=low

  * Update vcredist to 2015-2022 14.30.30528.0
  * Update opsiclientd to 4.2.0.96 (reworked event-handling, minor fixes)
  * Update oca-installation-helper to 4.2.0.5
  * Update opsi-script to 4.12.4.31
  * Update opsi-deploy-client-agent to 4.2.0.15 (isolated from opsicommon python module)

-- Nils Doerrer <n.doerrer@uib.de> Thu, 18 Nov 2021 17:30:00 +0100

opsi-client-agent (4.2.0.14-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.94
  * Update opsi-notifier to 4.2.0.2

-- Nils Doerrer <n.doerrer@uib.de> Mon, 25 Oct 2021 16:30:00 +0100

opsi-client-agent (4.2.0.13-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.93
  * Migrate product property on_shutdown_install

-- Jan Schneider <j.schneider@uib.de> Fri, 08 Oct 2021 07:44:00 +0100

opsi-client-agent (4.2.0.12-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.92

-- Nils Doerrer <n.doerrer@uib.de> Wed, 22 Sep 2021 15:51:00 +0100

opsi-client-agent (4.2.0.11-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.91

-- Jan Schneider <j.schneider@uib.de> Wed, 22 Sep 2021 08:51:00 +0100

opsi-client-agent (4.2.0.10-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.90

-- Jan Schneider <j.schneider@uib.de> Tue, 21 Sep 2021 07:15:00 +0100

opsi-client-agent (4.2.0.9-1) stable; urgency=low

  * Fixed cleanup of very old notifier
  * Fixed setup setting for netbootproducts run on clean machines
  * Updated opsiclientd to 4.2.0.89
  * Updated oca-installation-helper to 4.2.0.4

-- Nils Doerrer <n.doerrer@uib.de> Thu, 17 Sep 2021 13:00:00 +0100

opsi-client-agent (4.2.0.8-1) stable; urgency=low

  * Fix process_wim_capture()

-- Jan Schneider <j.schneider@uib.de> Wed, 08 Sep 2021 16:10:00 +0100

opsi-client-agent (4.2.0.7-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.88
  * Update oca-installation-helper to 4.2.0.2

-- Jan Schneider <j.schneider@uib.de> Mon, 30 Aug 2021 11:00:00 +0100

opsi-client-agent (4.2.0.6-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.87
  * Update oca-installation-helper to 4.2.0.1
  * Fixed installation finalization. No reboot in bootimage context.

-- Jan Schneider <j.schneider@uib.de> Thu, 24 Aug 2021 08:30:00 +0100

opsi-client-agent (4.2.0.5-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.86

-- Jan Schneider <j.schneider@uib.de> Thu, 19 Aug 2021 15:36:00 +0100

opsi-client-agent (4.2.0.4-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.85

-- Jan Schneider <j.schneider@uib.de> Wed, 18 Aug 2021 13:20:00 +0100

opsi-client-agent (4.2.0.3-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.84
  * Fix ExecWith_powershell_running_in_service_context
  * Fix reboot for package actions
  * Always copy all custom files

-- Jan Schneider <j.schneider@uib.de> Tue, 17 Aug 2021 14:31:00 +0100

opsi-client-agent (4.2.0.2-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.83

-- Jan Schneider <j.schneider@uib.de> Wed, 11 Aug 2021 12:46:00 +0100

opsi-client-agent (4.2.0.1-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.82
  * Reboot after installation if other packages are set to setup
  * Move custom winstskin to new location

-- Jan Schneider <j.schneider@uib.de> Mon, 21 Jun 2021 14:46:00 +0100

opsi-client-agent (4.2.0.0-1) stable; urgency=low

  * opsi-client-agent 4.2 release

-- Jan Schneider <j.schneider@uib.de> Mon, 21 Jun 2021 14:46:00 +0100
