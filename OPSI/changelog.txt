[Changelog]
opsi-client-agent (4.1.1.37-3) stable; urgency=low

  * Updated opsi-deploy-client-agent to 4.2.0.10 (fixed deploy install call)

-- Nils Doerrer <n.doerrer@uib.de> Mon, 14 Jun 2021 14:16:00 +0100

opsi-client-agent (4.1.1.37-2) stable; urgency=low

  * Set /usr/bin/python in opsi-deploy-client-agent-41

-- Jan Schneider <j.schneider@uib.de> Tue, 09 Jun 2021 11:16:00 +0100

opsi-client-agent (4.1.1.37-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.75
  * Add legacy opsi-deploy-client-agent-41 for old operating systems

-- Jan Schneider <j.schneider@uib.de> Tue, 08 Jun 2021 12:05:00 +0100

opsi-client-agent (4.1.1.36-2) stable; urgency=low

  * Updated opsi-deploy-client-agent to 4.2.0.9

-- Nils Doerrer <n.doerrer@uib.de> Wed, 02 Jun 2021 15:16:00 +0100

opsi-client-agent (4.1.1.36-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.74

-- Jan Schneider <j.schneider@uib.de> Tue, 01 Jun 2021 07:16:00 +0100

opsi-client-agent (4.1.1.35-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.73

-- Jan Schneider <j.schneider@uib.de> Mon, 31 May 2021 16:47:00 +0100

opsi-client-agent (4.1.1.34-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.72
  * Update opsi-notifier to 4.2.0.1

-- Jan Schneider <j.schneider@uib.de> Mon, 31 May 2021 11:51:00 +0100

opsi-client-agent (4.1.1.33-1) stable; urgency=low

  * Updated opsi-client-systray to 4.1.2.4
  * Updated opsiclientd to 4.2.0.71

-- Nils Dörrer <n.doerrer@uib.de> Tue, 25 May 2021 14:00:00 +0100

opsi-client-agent (4.1.1.32-1) stable; urgency=low

  * Fixed opsi-deploy-client-agent
  * Updated opsiclientd to 4.2.0.70

-- Nils Dörrer <n.doerrer@uib.de> Thu, 019 Apr 2021 12:00:00 +0100

opsi-client-agent (4.1.1.31-2) stable; urgency=low

  * Fixed opsi-notifier deployment

-- Nils Dörrer <n.doerrer@uib.de> Thu, 013 Apr 2021 15:00:00 +0100

opsi-client-agent (4.1.1.31-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.69
  * Register opsi-login-blocker as CredentialProvider
  * Remove nt5 support

-- Jan Schneider <j.schneider@uib.de> Fri, 09 Apr 2021 17:08:00 +0100

opsi-client-agent (4.1.1.30-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.68
  * Update opsi-login-blocker to 4.2.0.0
  * Create and lock TLS dir c:\opsi.org\tls

-- Jan Schneider <j.schneider@uib.de> Mon, 08 Mar 2021 14:29:00 +0100

opsi-client-agent (4.1.1.29-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.66

-- Jan Schneider <j.schneider@uib.de> Wed, 03 Feb 2021 12:07:00 +0100

opsi-client-agent (4.1.1.28-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.65

-- Jan Schneider <j.schneider@uib.de> Mon, 26 Jan 2021 23:50:00 +0100

opsi-client-agent (4.1.1.27-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.64

-- Jan Schneider <j.schneider@uib.de> Mon, 21 Jan 2021 11:12:00 +0100

opsi-client-agent (4.1.1.26-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.63

-- Jan Schneider <j.schneider@uib.de> Mon, 18 Jan 2021 16:45:00 +0100

opsi-client-agent (4.1.1.25-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.62

-- Jan Schneider <j.schneider@uib.de> Mon, 13 Jan 2021 22:32:00 +0100

opsi-client-agent (4.1.1.24-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.61
  * Update opsi-winst to 4.12.4.12
  * Remove opsiservicecall_setGeneralConfigValue_clientconfig_configserver_url

-- Jan Schneider <j.schneider@uib.de> Mon, 11 Jan 2021 10:21:00 +0100

opsi-client-agent (4.1.1.23-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.59

-- Jan Schneider <j.schneider@uib.de> Mon, 28 Dec 2020 11:11:00 +0100

opsi-client-agent (4.1.1.22-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.58

-- Jan Schneider <j.schneider@uib.de> Sat, 19 Dec 2020 18:58:00 +0100

opsi-client-agent (4.1.1.21-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.56
  * Update kiosk-package to 4.1.1.8-8

-- Jan Schneider <j.schneider@uib.de> Fri, 18 Dec 2020 17:18:00 +0100

opsi-client-agent (4.1.1.20-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.55

-- Jan Schneider <j.schneider@uib.de> Thu, 17 Dec 2020 16:58:00 +0100

opsi-client-agent (4.1.1.19-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.54
  * Update opsi-notifier to 4.1.1.6
  * Update kiosk-package to 4.1.1.8-6

-- Jan Schneider <j.schneider@uib.de> Thu, 17 Dec 2020 11:47:00 +0100

opsi-client-agent (4.1.1.18-1) stable; urgency=low

  * Update opsiclientd to 4.2.0.51
  * Update opsi-notifier to 4.1.1.5
  * Update kiosk-package to 4.1.1.7-6

-- Jan Schneider <j.schneider@uib.de> Thu, 10 Dec 2020 17:41:00 +0100

opsi-client-agent (4.1.1.17-2) testing; urgency=low

  * Remove kiosk deinstall

-- Jan Schneider <j.schneider@uib.de> Fri, 04 Nov 2020 15:43:00 +0100

opsi-client-agent (4.1.1.17-1) testing; urgency=low

  * Update opsiclientd to 4.2.0.48

-- Jan Schneider <j.schneider@uib.de> Tue, 01 Nov 2020 22:15:00 +0200

opsi-client-agent (4.1.1.16-2) testing; urgency=low

  * Fix vcredist_2015 install parameter
  * Fix copy openssl

-- Jan Schneider <j.schneider@uib.de> Mon, 30 Nov 2020 14:35:00 +0200

opsi-client-agent (4.1.1.16-1) testing; urgency=low

  * Update opsiclientd to 4.2.0.47

-- Jan Schneider <j.schneider@uib.de> Fri, 27 Nov 2020 16:15:00 +0200

opsi-client-agent (4.1.1.15-2) testing; urgency=low

  * Do not fail if copy fallback suceeds

-- Jan Schneider <j.schneider@uib.de> Thu, 26 Nov 2020 18:54:00 +0200

opsi-client-agent (4.1.1.15-1) testing; urgency=low

  * Update opsiclientd to 4.2.0.46

-- Jan Schneider <j.schneider@uib.de> Thu, 26 Nov 2020 13:29:00 +0200

opsi-client-agent (4.1.1.14-1) testing; urgency=low

  * Cleanup installation script
  * Update opsiclientd to 4.2.0.45

-- Jan Schneider <j.schneider@uib.de> Wed, 25 Nov 2020 22:56:00 +0200

opsi-client-agent (4.1.1.13-1) testing; urgency=low

  * Update opsiclientd to version 4.2.0.44
  * Use opsiclientd zip file

-- Jan Schneider <j.schneider@uib.de> Wed, 25 Nov 2020 18:46:00 +0200

opsi-client-agent (4.1.1.12-1) testing; urgency=low

  * Update opsiclientd to version 4.2.0.43
  * Fixed logging in opsi-deploy-client-agent for opsi 4.1

-- Jan Schneider <j.schneider@uib.de> Wed, 25 Nov 2020 13:00:00 +0200

opsi-client-agent (4.1.1.11-1) testing; urgency=low

  * update opsi-client-agent to 4.2.0.40

-- Jan Schneider <j.schneider@uib.de> Mon, 16 Nov 2020 10:49:00 +0200

opsi-client-agent (4.1.1.10-1) testing; urgency=low

  * update opsi-client-agent to 4.2.0.38

-- Jan Schneider <j.schneider@uib.de> Thu, 12 Nov 2020 12:16:00 +0200

opsi-client-agent (4.1.1.9-1) experimental; urgency=low

  * update opsi-client-agent to 4.2.0.37

-- Jan Schneider <j.schneider@uib.de> Fri, 06 Nov 2020 16:22:00 +0200

opsi-client-agent (4.1.1.8-1) experimental; urgency=low

  * update opsi-script to 4.12.4.4

-- Jan Schneider <j.schneider@uib.de> Thu, 05 Nov 2020 14:14:00 +0200

opsi-client-agent (4.1.1.7-4) experimental; urgency=low

  * copy new opsiclientd binaries to opsicliend_new and rename to opsiclientd on success

-- Jan Schneider <j.schneider@uib.de> Wed, 04 Nov 2020 18:55:00 +0200

opsi-client-agent (4.1.1.7-1) experimental; urgency=low

  * opsiclientd 4.2.0.34
  * opsi-winst 4.12.4.3
  * opsi-notifier 4.1.1.3

-- Nils Doerrer <n.doerrer@uib.de> Wed, 28 Oct 2020 10:30:00 +0200

opsi-client-agent (4.1.1.6-1) testing; urgency=low

  * fix copy of custom nofier files
    (uib#2020100810000062 - opsi-winst-skin Anpassung Verzeichnisstruktur in client-agent 4.1.1.4-1)

-- Detlef Oertel <d.oertel@uib.de> Mon, 09 Oct 2020 15:00:00 +0200

opsi-client-agent (4.1.1.5-1) testing; urgency=low

  * opsiclientd 4.2.0.32

-- Jan Schneider <j.schneider@uib.de> Thu, 08 Oct 2020 10:17:00 +0200

opsi-client-agent (4.1.1.4-1) testing; urgency=low

  * updated opsi-script-lib
  * opsiclientd 4.2.0.30

 -- Detlef Oertel <d.oertel@uib.de> Mon, 05 Oct 2020 15:00:00 +0200

opsi-client-agent (4.1.1.3-2) experimental; urgency=low

  * ACL-Fix

 -- Erol Ueluekmen <e.ueluekmen@uib.de> Sun, 04 Oct 2020 21:10:00 +0200


opsi-client-agent (4.1.1.3-1) experimental; urgency=low

  * add folder kiosk-package to opsi-client-agent (CLIENT_DATA\files\opsi). This folder contains the opsi-client-kiosk package.
  * control: remove dependency to opsi-client-kiosk
  * preinst: migrate kiosk (properties and ock_custom folder, only from client-agents which has the kiosk integrated)
  * postinst: install opsi-client-kiosk from package (only if migration occured). Remove folder kiosk-package from client-agent (in any case)

 -- Jan Werner <j.werner@uib.de> Fri, 02 Oct 2020 16:29:00 +0200

opsi-client-agent (4.1.1.3-1) testing; urgency=low

  * opsiclientd 4.2.0.28
  * opsi-script 4.12.4.1

 -- Jan Schneider <j.schneider@uib.de> Fri, 02 Oct 2020 11:01:00 +0200

opsi-client-agent (4.1.1.2-1) testing; urgency=low

  * opsiclientd 4.2.0.27

 -- Jan Schneider <j.schneider@uib.de> Wed, 30 Sep 2020 13:14:00 +0200

opsi-client-agent (4.1.1.1-2) testing; urgency=low

  * new property: fix_rights_on_c_tmp (default=false)
  * new property: fix_rights_on_wan_cache (default=false)
  * new properties are used to control and speed up the setup of access rights
  * Log setacl actions on loglevel 6

 -- Detlef Oertel <d.oertel@uib.de>  Fri  25 Aug 2020 15:00:00 +0200

opsi-client-agent (4.1.1.1-1) experimental; urgency=medium

 * opsicliend 4.2.0.21 in opsiclientd_windows_x86
 * update to opsiclientd 4.2.0.25

 -- d.oertel <d.oertel@uib.de> Wed, 16 Sep 2020 15:00:00 + 0100
 -- n.doerrer <n.doerrer@uib.de> Mon, 21 Sep 2020 14:30:00 + 0100

opsi-client-agent (4.1.1.0-2) experimental; urgency=medium

 * depends now on opsi-client-kiosk (opsi-client-kiosk must be installed on depot first to migrate icons and settings from client-agent)
 * remove old kiosk completely from client-agent folder and system entries on client
 * opsi-client-kiosk is set to setup if software-on-demand.active is true
 * update to opsi-notifier 4.1.1.2

 -- j.werner <j.werner@uib.de> Thu, 06 Aug 2020 13:49:00 + 0100
 -- d.oertel <d.oertel@uib.de> Wed, 19 Aug 2020 15:00:00 + 0100

opsi-client-agent (4.1.1.0-1) testing; urgency=medium

  * switch to opsiclientd-pyinstaller
  * startup opsiclientd in install mode
  * fix sequence of getting the value of allow_reboot
  * update to opsi-script 4.12.3.16
  * update to opsi-systray 4.1.3.0
  * update to opsi-notifier 4.1.1.1
  * update to opsiclientdguard 4.0.0.2
  * update to openssl 1.0.2u
  * integrate vcredist2015
  * remove opsi-kiosk from client-agent (is stand alone now)
  * fix c:\opsi.org\usertmp file access rights
  * update to setacl 3.06
  * update oca_write_configuration():DosInAnIcon_open_dir by Mathias Knauer
  * opsiclientd 4.2  (21.7.2020)
  * fix Registry_set_ServicesPipeTimeout / Registry_del_ServicesPipeTimeout
  * new property start_opsiclientd_guard (default=true)
  * modified patch_config_file.py (get domain from backend)
  * modified opsi-deploy-client-agent for opsi 4.2
  * modified postinst for opsi 4.2
  * remove old debug files (like config.ini) from log dir if $Inst_Debug$="off"
  * preinst: save old kiosk files to new kiosk product
  * modified function:
    deffunc opsiservice_authenticated($testexisting$ : string,$user$ : string,
    $pass$ : string, $url$ : string, $interactive$ : string) : string
  * subconfig: all on_shutdown in one function

 -- Jan Schneider <j.schneider@uib.de> Fri, 08 May 2020 11:03:00 + 0100
 -- d.oertel <d.oertel@uib.de> Fri, 08 May 2020 15:00:00 + 0100

opsi-client-agent (4.1.0.0-42) experimental; urgency=low

  * update to opsiclientd : 4.2
  * update to opsi-script 4.12.3.12
  * update to opsi-systray 4.1.2.0

-- Detlef Oertel <d.oertel@uib.de>  Thu  09 Apr 2020:15:00:00 +0200

opsi-client-agent (4.1.0.0-41) experimental; urgency=low

  * update to opsi-client-systray 4.1.1.0
    * change to synapse
    * no backend_exit
  * update for win10 to opsiclientd : 4.0.100
  * requires opsi-script 4.12.0.17

-- Detlef Oertel <d.oertel@uib.de>  Mo, 06 Apr 2020:15:00:00 +0200

opsi-client-agent (4.1.0.0-40) experimental; urgency=low

  * update to opsiclientkiosk 4.1.1.2: fixed that last product was not within the sqlite database
  * edit postinst: set config "software-on-demand.admin-mode" to false by default (e.g. if not existing)
  * copy kiosk icons via zip (Detlef Oertel, Tue, 04 Feb 2020)

-- Jan Werner <j.werner@uib.de>  Mon, 7 Feb 2020:12:04:00 +0200

opsi-client-agent (4.1.0.0-39) experimental; urgency=low

 * handle service_hidden_password also as confidential
 * update opsiclientd to 4.0.99

-- Detlef Oertel <d.oertel@uib.de>  Mo, 20 Jan 2020:15:00:00 +0200

opsi-client-agent (4.1.0.0-38) experimental; urgency=low

 * update to opsi-script 4.12.3.1
 * opsi-deploy-client-agent: compatible with opsi 4.1 and 4.2

 -- Niko Wenselowski <n.wenselowski@uib.de>  Mon, 18 Nov 2019 18:42:44 +0200

opsi-client-agent (4.1.0.0-37) experimental; urgency=low

  * new property: legacy_loginblocker_dll
     false=new version (83 von 10.2019) true=old version (1.2.1.0 von 8.2016)
     default=false
  * opsiclientd 4.0.98
  * service_setup.cmd (nt6): additional '-wait' in call of opsi-script (do 5.11.19)
  * update to opsi-script 4.12.3 (do 5.11.19)
  * update openssl to 1.0.2t (do 7.11.19)

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 28 Oct 2019:22:00:00 +0200

opsi-client-agent (4.1.0.0-36) experimental; urgency=low

  * new property: update_mac_address_on_normal_setup
     true=MAC Address from the Network Interface that communicates with opsi will be send to the opsi-server if it do not look like a wifi interface.
     false=Never send MAC but in install mode
  * patch_config_file.py now works with opsi 4.2.
  * opsi-kiosk: custom directories for icons and screenshots
  * update to opsi-script 4.12.2.3

-- Detlef Oertel <d.oertel@uib.de>  Fri, 16 Aug 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-35) experimental; urgency=low

  * new opsiclientd with working window

-- Detlef Oertel <d.oertel@uib.de>  Fri, 16 Aug 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-34) stable; urgency=low

  * switch back to opsiclientd 4.0.96
  * update to opsikioskclient 4.1.1.0 (jw)

-- Detlef Oertel <d.oertel@uib.de>  Mon, 12 Aug 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-33) stable; urgency=low

  * opsiclientd 4.0.97

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 12 Jun 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-32) stable; urgency=low

  * opsi-script 4.12.1.5
  * setup412: new local funstion oca_is_my_mac_cable($INST_MAC$)
  * setup412: oca_write_configuration()(): do only write back cable ethernet MAC

-- Detlef Oertel <d.oertel@uib.de>  Wed, 12 Jun 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-31) stable; urgency=low

  * opsi-script 4.12.1.4
  * setup412: oca_read_configuration(): no loop on services if depends_on_service is empty

-- Detlef Oertel <d.oertel@uib.de>  Fri, 26 Apr 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-30) stable; urgency=low

  * Cleanup in OPSI/postinst.

-- Niko Wenselowski <n.wenselowski@uib.de>  Wed, 29 May 2019 17:03:25 +0200

opsi-client-agent (4.1.0.0-29) stable; urgency=low

  * opsi-script 4.12.1.2

-- Detlef Oertel <d.oertel@uib.de>  Fri, 26 Apr 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-28) stable; urgency=low

  * opsiclientd 4.0.96

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 18 Apr 2019:01:44:00 +0200

opsi-client-agent (4.1.0.0-27) stable; urgency=low

  * opsiclientd 4.0.95
  * fixed opsi-deploy-client-agent

-- Detlef Oertel <d.oertel@uib.de>  Thu, 17 Jan 2019:15:00:00 +0200

opsi-client-agent (4.1.0.0-26) stable; urgency=low

  * temporary go back to opsiclientd 4.0.94

-- Detlef Oertel <d.oertel@uib.de>  Thu, 17 Jan 2019:15:00:00 +0200


opsi-client-agent (4.1.0.0-25) stable; urgency=low

  * opsiclientd 4.1.1
  * setup412: allow non admin login (uib#2014010810000019 / uib#2019010910000053) (do 17.1.2019)

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 16 Jan 2018:10:25:00 +0200

opsi-client-agent (4.1.0.0-24) stable; urgency=low

  * opsiclientd 4.0.94: win10 fix.

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 05 Dec 2018:10:25:00 +0200

opsi-client-agent (4.1.0.0-23) stable; urgency=low

  * opsiclientd 4.0.94

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 04 Dec 2018:17:25:00 +0200

opsi-client-agent (4.1.0.0-22) stable; urgency=low

  * Check if vcredist 2008 is installed for more versions (9.0.x)

-- Detlef Oertel <d.oertel@uib.de>  Tue, 18 Oct 2018:17:20:00 +0200

opsi-client-agent (4.1.0.0-21) stable; urgency=low

  * opsi_client_systray  4.1.0.1: fix logging to c:\opsi.org\applog
  * opsiclientkiosk  4.1.0.1: fix logging to c:\opsi.org\applog
  * update to opsi-winst/opsi-script 4.12.0.28
  * More messages in oca_write_configuration()
  * uninstall: remove kiosk start menue and desktop entries

-- Detlef Oertel <d.oertel@uib.de>  Tue, 25 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-20) stable; urgency=low

  * fixes #3649 uninstall dont remove [HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Microsoft\Windows\CurrentVersion\Run]"opsi_systray_start"

-- Bardo Wolf <b.wolf@uib.de>  Mon, 20 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-19) stable; urgency=low

  * fixes #3630 opsi-local-image-wim-capture bleibt auf setup stehen

-- Bardo Wolf <b.wolf@uib.de>  Thu, 09 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-18) stable; urgency=low

  * opsiclientd 4.0.93

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 08 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-17) stable; urgency=low

  * subconfig.opsiscript: more readable interpretation of opsiservicecall_get_configState_software-on-demand.active
  * subconfig.opsiscript: LinkFolder_uninstall_softwareOnDemand: marker for #3624

-- Detlef Oertel <d.oertel@uib.de>  Mon, 06 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-16) stable; urgency=low

  * update to opsi-notifier  4.1.0.3
      * try to make memo transparent
  * add opsiclientdguard to uninstall

-- Detlef Oertel <d.oertel@uib.de>  Fri, 03 Aug 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-15) stable; urgency=low

  * update to opsi-notifier  4.1.0.2
    * try to handle method choicesChanged
    * if no Option('i', 'idevent') is given use name of skin for name of log
    * use memo for 'labelMessage'

-- Detlef Oertel <d.oertel@uib.de>  Fri, 27 Jul 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-14) stable; urgency=low

  * update to notifier 4.1.0.1: No High DPI Support foe Win7 (did not work correctly)
  * update to opsiscript 4.2.0.23: No High DPI Support foe Win7 (did not work correctly)

-- Detlef Oertel <d.oertel@uib.de>  Thu,  12 Jul 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-13) stable; urgency=low

  * service_setup_nt5.cmd: old service_setup.cmd for NT5 which have to be started elevated

-- Detlef Oertel <d.oertel@uib.de>  Tue,  10 Jul 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-12) stable; urgency=low

  * editable start menue folder for kiosk

-- Rupert Roeder <r.roeder@uib.de>  Thu,  14 Jun 2018:15:00:00 +0200


opsi-client-agent (4.1.0.0-11) stable; urgency=low

  * setup412: oca_create_client(): no scripted login by fqdn/hostkey
  * setup412: oca_write_configuration() : set rigts to c:\opsi.org\applog c:\opsi.org\usertemp
  * setup412: oca_clean_up() more code and dir cleanup
  * service_setup.cmd: create and use powershell script to start opsi-script elevated ....

-- Detlef Oertel <d.oertel@uib.de>  Mon,  08 Jun 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-10) stable; urgency=low

  * changelog moved from control to changelog.txt

-- Detlef Oertel <d.oertel@uib.de>  Fri,  08 Jun 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-9) stable; urgency=low

  * fix missing opsiclientd_eventstarter.exe
  * fix in deffunc oca_create_client(): try user/pass from config.ini
  * fix in oca_clean_up(): cleanup "%opsiTmpDir%\opsi"

-- Detlef Oertel <d.oertel@uib.de>  Thu,  07 Jun 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-8) stable; urgency=low

  * upgrade to opsi-winst 4.12.0.21

-- Detlef Oertel <d.oertel@uib.de>  Wed,  23 May 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-7) stable; urgency=low

  * upgrade to opsi-winst 4.12.0.20

-- Detlef Oertel <d.oertel@uib.de>  Wed,  23 May 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-6) stable; urgency=low

  * opsi-deploy-client-agent: using SMB3 as max protocol
  * upgrade to opsi-winst 4.12.0.18 (do 7.5.2018)

 -- Mathias Radtke <m.radtke@uib.de> Fri, 04 May 2018 10:52:00 +0200

opsi-client-agent (4.1.0.0-5) stable; urgency=low

  * setup412: fix in deffunc opsiservice_authenticated
  * fix opsi-seploy-client-agent

-- Detlef Oertel <d.oertel@uib.de>  Fri,  27 Apr 2018:15:00:00 +0200


opsi-client-agent (4.1.0.0-4) stable; urgency=low

  * fix integration of opsiclientdguard
  * upgrade to opsi-winst 4.12.0.17

-- Detlef Oertel <d.oertel@uib.de>  Fri,  20 Apr 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-3) stable; urgency=low

  * setup411.opsiscript renamed to setup.opsiscript
  * setup script is setup.opsiscript (change also in postinst.d 50_oca)
  * change a lot of files back from DOS to unix lineendings

-- Detlef Oertel <d.oertel@uib.de>  Wed,  18 Apr 2018:15:00:00 +0200

opsi-client-agent (4.1.0.0-2) stable; urgency=low

  * added opsiclientdguard service
  * upgrade to opsi-winst 4.12.0.16
  * setup script is setup411.opsiscript (change also in postinst.d 50_oca)
  * fork setup scripts by winst version >= 4.12.0.16 calls setup412.opsiscript
  * notifier upgrade to 4.1.0.0
  * notifier configuration now in opsi-notifier/notifier.d
  * systray upgrade 4.1.0.0
  * update to openssl-1.0.2o
  * kiosk upgrade 4.1.0.0

-- Detlef Oertel <d.oertel@uib.de>  Fri,  16 Mar 2018:15:00:00 +0200


opsi-client-agent (4.0.7.24-3) stable; urgency=low

  * support (lock) C:\opsi.org\data

-- Detlef Oertel <d.oertel@uib.de>  Thu,  14 Dec 2017:15:00:00 +0200

opsi-client-agent (4.0.7.24-2) stable; urgency=low

  * update to opsi-script 4.12.0.11

-- Detlef Oertel <d.oertel@uib.de>  Tue,  12 Dec 2017:15:00:00 +0200

opsi-client-agent (4.0.7.24-1) stable; urgency=low

  * update to opsi-notifier 4.0.7.3
    * notifier_json: method choicesChanged ; fixes #3196
    * notifierguicontrol: objectByIndex: do not crash on wrong ini content ; fixes #3156
    * dpi awareness: Vista-8:off; 8.1+:per Monitor
  * new dir c:\opsi.org\applog which is open for user and should have the logs from systray and kiosk-client
  * update to opsi_client_systray  4.0.7.3
    * oslog: changed logging to c:\opsi.org\applog
    * DataModuleCreate: initlogging: logfilename := 'systray-' + GetUserName_ ;
    * DataModuleCreate: setlogvel to 7
    * DataModuleCreate: check for opsiclientd
  * update to opsiclientkiosk  4.0.7.12
    * oslog: changed logging to c:\opsi.org\applog
    * ockdata: initlogging: logfilename := 'kiosk-' + GetUserName_ +'.log';
    * ockdata: readconf: setlogvel to 7
    * code cleanup
    * ockdata: main: check for opsiclientd ; fixes #3225
    * use delete in Files_redist_cleanup_c / Files_redist_cleanup_d  ; fixes #3227

-- Detlef Oertel <d.oertel@uib.de>  Tue,  05 Dec 2017:15:00:00 +0200

opsi-client-agent (4.0.7.23-6) stable; urgency=low

	* Fixes #3197 empty Displayversion if deployed f.e. via service_setup.cmd

-- Bardo Wolf <b.wolf@uib.de>  14 Nov 2017

opsi-client-agent (4.0.7.23-5) stable; urgency=low

  * check exitcode of

-- Detlef Oertel <d.oertel@uib.de>  Fri,  03 Nov 2017:15:00:00 +0200


opsi-client-agent (4.0.7.23-4) stable; urgency=low

  * remove of some del -s Options (bug created in last Version)
  * removed unused section DosInAnIcon_lock_opsiclientd_conf
  * unused file opsicliend.reg

-- Detlef Oertel <d.oertel@uib.de>  Mon,  06 Oct 2017:15:00:00 +0200

opsi-client-agent (4.0.7.23-3) stable; urgency=low

  * use 'sc failure' to configure opsiclientd service restarts after failure
  * use allway -c option in delete and copy to avoid not wanted reboots

-- Detlef Oertel <d.oertel@uib.de>  Mon,  02 Oct 2017:15:00:00 +0200

opsi-client-agent (4.0.7.23-2) stable; urgency=low

  * Files_del_systray: Fixed wrong path.
  * Trying to kill notifier.exe before copying

  -- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu,  28 Sep 2017:14:00:00 +0200

opsi-client-agent (4.0.7.23-1) stable; urgency=low

  * preinst / postinst: remove backup + restore of selected files/opsi/dist/ files
    That is all handled via custom directory. (https://forum.opsi.org/viewtopic.php?f=6&t=9497)
  * new winexe in version 1.00.1 added to package (binary from opsi-testing-repository) [eu]
  * update to opsi-kiosk-client 4.0.7.11
    * opsiclientkioskgui: fixes initializing title
  * update to opsi-systray 4.0.7.2
    * enhanced language detection
  * fix wrong file names in opsi-systray/locale file

-- Detlef Oertel <d.oertel@uib.de>  Tue,  12 Sep 2017:15:00:00 +0200

opsi-client-agent (4.0.7.22-1) stable; urgency=low

  * update to opsiclientkiosk 4.0.7.10
    fixes for reading opsiclientkiosk.ini
    All Section titles start with capital letter

-- Detlef Oertel <d.oertel@uib.de>  Wed,  06 Sep 2017:15:00:00 +0200


opsi-client-agent (4.0.7.21-1) stable; urgency=low

  * fix wrong file names in opsiclientkiosk/locale file

-- Detlef Oertel <d.oertel@uib.de>  Thu,  04 Sep 2017:15:00:00 +0200


opsi-client-agent (4.0.7.20-1) stable; urgency=low

  * upgrade to opsi-notifier 4.0.7.2
  * new opsiclientd.conf (default shutdown_warning_times increased to 3600sec;
    and shutdown_warning_time added to software_on_demand-event) [eu]
  * upgrade to opsi-script 4.11.6.15
  * remove cmd64.exe creation from service_setup.cmd and 50_opsi-client-agent.cmd

-- Detlef Oertel <d.oertel@uib.de>  Thu,  24 Aug 2017:15:00:00 +0200


opsi-client-agent (4.0.7.19-1) stable; urgency=low

  * upgrade opsiclientd 4.0.92
  * opsi-kiosk-client 4.0.7.9
  * opsi-notifier 4.0.7.1
  * opsi-systray program 4.0.7.1

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 21 Aug 2017:16:33:00 +0200


opsi-client-agent (4.0.7.18-1) stable; urgency=low

  * upgrade opsiclientd 4.0.91

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 09 Aug 2017:00:33:00 +0200


opsi-client-agent (4.0.7.17-1) stable; urgency=low

  * upgrade notifier 4.0.7.1
  * new opsi-systray program 4.0.7.1

-- Detlef Oertel <d.oertel@uib.de>  Tue,  18 Jul 2017:15:00:00 +0200


opsi-client-agent (4.0.7.16-3) stable; urgency=low

  *  quickfixwin2012 #2966

-- Bardo Wolf <b.wolf@uib.de>  Tue,  11 Jul 2017:15:00:00 +0200

opsi-client-agent (4.0.7.16-2) stable; urgency=low

  * patcha fix: opsi 3.x implementation removed

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue,  11 Jul 2017:14:00:00 +0200

opsi-client-agent (4.0.7.16-1) stable; urgency=low

  * upgrade to opsi-script 4.11.6.13
  * new notifier (lazarus version) 4.0.7.0
  * ssl library upgrade to 1.0.2.12 (1.0.2L) (do 16.6.2017)
  * remove property on_uninstall
    handled internal:  at XP always  deactivate; on >= Vista always uninstall
    fixes: #438  (do 27.6.2017)

-- Detlef Oertel <d.oertel@uib.de>  Mon,  29 May 2017:15:00:00 +0200

opsi-client-agent (4.0.7.15-1) stable; urgency=low

  * updated opsi-deploy-client-agent to 4.0.7.4.
  * sub_restore_productOnClient: also backup and restore once action requests

-- Niko Wenselowski <n.wenselowski@uib.de>  Mon,  3 Apr 2017 13:45:49 +0200

opsi-client-agent (4.0.7.14-1) stable; urgency=low

  * opsiclientkiosk ... (at work)
  * new properties: kiosk_startmenue_entry, kiosk_desktop_icon   uib#2016112110000071
  * kiosk-client will use custom icon file if existing ("$INST_BaseDir$\custom\opsiclientkioskskin\kiosk.ico")
  * remove experimental opsiclientd.zip fix

-- Detlef Oertel <d.oertel@uib.de>  Thu,  23 Feb 2017:15:00:00 +0200

opsi-client-agent (4.0.7.13-1) stable; urgency=low

  * Handle configstate: clientconfig.capture.do_not_change_setup_requests:
    * means nothing if clientconfig.capture.switch_installed_products_to_setup=false
    * all setup actionrequests will remain, even if they part of the restored meta data

  * opsiclientkiosk 4.0.7.6: fix (thread) for progressbar on button 'store actions' ; fixes #2586

-- Detlef Oertel <d.oertel@uib.de>  Mon,  20 Feb 2017:15:00:00 +0200

opsi-client-agent (4.0.7.12-1) stable; urgency=low

  * update auf opsi-script 4.11.6.12
  * update auf openssl 1.0.2.k
  * update opsiclientkiosk 4.0.7.5

-- Detlef Oertel <d.oertel@uib.de>  Wed,  14 Dec 2016:14:30:00 +0200


opsi-client-agent (4.0.7.11-2) stable; urgency=low

  * sub_shutdown_starter_fix: if in shutdown mode and installed version of opsiclientd_event_starter.exe = 4.0.7
      then replace this file and /ImmediateReboot

-- Detlef Oertel <d.oertel@uib.de>  Wed,  14 Dec 2016:14:30:00 +0200


opsi-client-agent (4.0.7.11-1) stable; urgency=low

  * opsi-client-agent on_shutdown fixing timeoutproblem by installation on shutdown.

-- Detlef Oertel <d.oertel@uib.de>  Wed,  14 Dec 2016:14:30:00 +0200


opsi-client-agent (4.0.7.10-1) stable; urgency=low

  * setup.opsicript: [sub_restore_productOnClient]:
      if found first rename productOnClients.json
      then start process content (this way is more failsafe against errors)
  * opsi-script 4.11.6.6

-- Detlef Oertel <d.oertel@uib.de>  Tue,  20 Oct 2016:15:00:00 +0200

opsi-client-agent (4.0.7.9-2) stable; urgency=low

  * opsiclientd 4.0.90

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue,  05 Oct 2016:22:06:00 +0200

opsi-client-agent (4.0.7.9-1) stable; urgency=low

  * update to openSSL 1.0.2j
  * replacing opsiclientd_shutdown_starter by opsiclientd_event_starter
     * opsiclientd_event_starter 4.0.7.0
     * changes for installation

-- Detlef Oertel <d.oertel@uib.de>  Tue,  04 Oct 2016:15:00:00 +0200

opsi-client-agent (4.0.7.8-2) stable; urgency=low

  * Fallback for non-supported Win Vista and Win2008 to opsiclientd 4.0.83

-- Bardo Wolf <b.wolf@uib.de>  Fri, 23 Sep 2016 12:08:01 +0200

opsi-client-agent (4.0.7.8-1) stable; urgency=low

  * opsiclientd 4.0.89

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 21 Sep 2016 15:01:01 +0200

opsi-client-agent (4.0.7.7-4) stable; urgency=low

  * Workaround for service_setup.cmd problem on win81 and win10

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 21 Sep 2016 09:01:01 +0200

opsi-client-agent (4.0.7.7-3) stable; urgency=low

  * Fixed bug in setup-script that prevented loading of a custom script.
    Thanks to TheNavy for reporting this.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 14 Sep 2016 07:29:01 +0200

opsi-client-agent (4.0.7.7-2) stable; urgency=low

  * updated deploy-opsi-client-agent to 4.0.7.2.

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 07 Sep 2016 13:13:09 +0200

opsi-client-agent (4.0.7.7-1) stable; urgency=low

  * opsi-winst 4.11.6.2
  * using 4 argument GetProductPropertyList
  * in Registry_ActivateOpsiclientd use REG_EXPAND_SZ:
  * subconfig: fix file var for Patches_install_on_shutdown_opsiclientd_conf_disable

-- Detlef Oertel <d.oertel@uib.de>  Mon,  05 Sep 2016:15:00:00 +0200

opsi-client-agent (4.0.7.6-1) stable; urgency=low

  * opsiclientd 4.0.88

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed,  31 Aug 2016:16:00:00 +0200


opsi-client-agent (4.0.7.5-1) stable; urgency=low

  * opsiclientkiosk 4.0.7.4:
    fix installdlg stayontop /
    HourGlass Cursor for 'Store Actions' and 'Install now'
    (uib#2016083010000041 — Kiosk - Client : Fenster 'Aktion jetzt ausführen oder später[...] )
  * enhanced error loging (mostly for sub_restore_productOnClient)

-- Detlef Oertel <d.oertel@uib.de>  Wed,  31 Aug 2016:15:00:00 +0200

opsi-client-agent (4.0.7.4-2) stable; urgency=low

  * another fix  in sub_restore_productOnClient

-- Detlef Oertel <d.oertel@uib.de>  Mon,  30 Aug 2016:15:00:00 +0200


opsi-client-agent (4.0.7.4-1) stable; urgency=low

  * opsiclientkiosk.exe 4.0.7.4: fix empty value in actionrequest edit field
  * fix for ident in sub_restore_productOnClient/sub_set_clientid_in_poclist

-- Detlef Oertel <d.oertel@uib.de>  Mon,  29 Aug 2016:15:00:00 +0200

opsi-client-agent (4.0.7.3-1) stable; urgency=low

  * opsiclientd 4.0.87
  * OpsiLoginBlocker version 1.2.1.0 fixes for early unblock

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon,  22 Aug 2016:22:50:00 +0200


opsi-client-agent (4.0.7.2-1) stable; urgency=low

  * opsiclientkiosk.exe 4.0.7.2: --lang Option

-- Detlef Oertel <d.oertel@uib.de>  Mon,  08 Aug 2016:15:00:00 +0200


opsi-client-agent (4.0.7.1-1) stable; urgency=low

  * Version freeze for windows NT5 on opsiclientd version 4.0.83
  * Integrated opsiclientkiosk.exe 4.0.6.1 ((De-)Installation via subconfig.opsiscript) (do 6.6.)
  * Integrated possible custom opsiclientkioskskin to Files_copy_custom (do 8.6.)
  * Integrated fix for new opsiclientd and win >= 8.1 copy (opsiclientd.exe as zip) (do 6.6.)
  * Backports from 4.0.6.3:
      * in sub_restore_productOnClient opsi-script 4.11.6 branch (do 5.7.)
      * in sub_restore_productOnClient opsi-script 4.11.5 branch for rename or del poc-file (do 5.7.)
  * Integrated opsiclientkiosk.exe 4.0.7.1 ((De-)Installation via subconfig.opsiscript) (do 11.7.)
  * Updated opsi-deploy-client-agent to 4.0.7.1
  * Updated opsiclientd to 4.0.86
    * based on python-opsi 4.0.7.8-1
  * old kioskmode for NT5
  * use config clientconfig.capture.switch_installed_products_to_setup to control restore mode of productOnClients.json file
  * removed set_UAC Property and code
  * opsi-winst 4.11.6.1

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 19 May 2016 17:10:09 +0100

opsi-client-agent (4.0.6.4-1) stable; urgency=low

  * opsiclientd 4.0.86
    * bases on python 2.7
    * bases on python-opsi 4.0.6.50-1

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Tue, 17 May 2016 17:10:09 +0100

opsi-client-agent (4.0.6.3-13) stable; urgency=low

  * on_shutdown: doinstall32.cmd / doinstall64.cmd: Calling date with /T. ; fixes #1877 (nw)
  * new property: services_pipe_timeout ;
      Timeout in milliseconds for a service (opsiclientd) startup:
      Sets in HKLM\SYSTEM\CurrentControlSet\Control the Value of ServicesPipeTimeout
      Default: nochange : do not change, create or delete the Entry; delete: delets the entry (MS Default)
      fixes #2118
      do 12.4.2016

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 11 Apr 2016 17:46:09 +0100

opsi-client-agent (4.0.6.3-12) stable; urgency=low

  * Updated opsi-deploy-client-agent to 4.0.6.14. (nw)
  * Updated opsi-script to 4.11.5.19 (do)

-- Niko Wenselowski <n.wenselowski@uib.de>  Thu, 05 Apr 2016 10:46:25 +0100

opsi-client-agent (4.0.6.3-11) stable; urgency=low

  * change to opsi-script 4.11.5.18 (openssl 1.0.2f , can handle openssl 1.0.2g)
  * fixes at importing productOnClient from wim-capture and oli-capture
  * calling sc.exe with full path ; fixes #2085
  * copy ssl DLLs from openssl dir (not from opsi-script dir)

-- Detlef Oertel <d.oertel@uib.de>  Tue,  22 Mar 2016:15:00:00 +0200


opsi-client-agent (4.0.6.3-10) stable; urgency=low

  * update to opsi-script 4.11.5.18 (with openssl 1.0.2g)
  * go back to openssl 1.0.2f until opsiclientd can handle 1.0.2g

-- Detlef Oertel <d.oertel@uib.de>  Thu,  10 Mar 2016:15:00:00 +0200


opsi-client-agent (4.0.6.3-9) stable; urgency=low

  * Updated opsi-deploy-client-agent to 4.0.6.13.(nw 26.2.16)
  * update to openssl 1.0.2g

-- Detlef Oertel <d.oertel@uib.de>  Fri,  04 Mar 2016:15:00:00 +0200

opsi-client-agent (4.0.6.3-8) stable; urgency=low

  * integrate restore of product on client from wim-capture
  * $LogDir = %opsiLogDir%
  * update to opsi-winst 4.11.5.16

-- Detlef Oertel <d.oertel@uib.de>  Mon,  01 Feb 2016:15:00:00 +0200

opsi-client-agent (4.0.6.3-7) stable; urgency=low

  * update to openssl 1.0.2f
  * update to opsi-winst 4.11.5.16

-- Detlef Oertel <d.oertel@uib.de>  Mon,  01 Feb 2016:15:00:00 +0200

opsi-client-agent (4.0.6.3-6) stable; urgency=low

  * Updated opsi-deploy-client-agent to 4.0.6.11. (nw)
  * update to openssl 1.0.2e
  * update getmsversioninfo (for win10)
  * call subconfig from setup script and disable update
  * update script checks if it match to installed Version
  * uninstall entry for windows now references uninstall.opsiscript (instead of uninstall.ins)

-- Detlef Oertel <d.oertel@uib.de>  Wed,  16 Dec 2015:15:00:00 +0200

opsi-client-agent (4.0.6.3-5) stable; urgency=low

* fix: property setup_after_install with no values and default (means empty) ; fixes #1737
* fix handle empty depends_on_service list
* call getProductMap for information

-- Detlef Oertel <d.oertel@uib.de>  Mon,  12 Oct 2015:15:00:00 +0200

opsi-client-agent (4.0.6.3-4) stable; urgency=low

* fix: kioskmode menue entry not created: subconfig: wrong var in servicecall

-- Detlef Oertel <d.oertel@uib.de>  Thu,  08 Oct 2015:15:00:00 +0200

opsi-client-agent (4.0.6.3-3) testing; urgency=low

* Integrated emergency fix for opsiclientd_shutdown_starter.exe: ignore allow_reboot property

-- Detlef Oertel <d.oertel@uib.de>  Fri,  18 Sep 2015:15:00:00 +0200

opsi-client-agent (4.0.6.3-2) testing; urgency=low

* Integrated emergency fix for opsiclientd_shutdown_starter.exe

-- Detlef Oertel <d.oertel@uib.de>  Thu, 17 Sep 2015 15:00:00 +0100


opsi-client-agent (4.0.6.3-1) testing; urgency=low

* New version of opsiclientd_shutdown_starter.exe (4.0.85) (port from 4.0.5.7-2)
* update to opsi-winst 4.11.5.14
* setup.opsiscript: Set $INST_Debug$ = "off"

-- Detlef Oertel <d.oertel@uib.de>  Thu, 10 Sep 2015 15:00:00 +0100


opsi-client-agent (4.0.6.2-1) testing; urgency=low

* Avoid having a cmd window popup on shutdown.
* update to opsi-winst 4.11.5.13 (do 28.8.)
* Using LoadProductProperties to get Productproperties after network connection (do 10.7.)
* new property: setup_after_install (do 15.7.) fixes  #1613
* update to openssl 1.0.2d
* service_setup.cmd: better handling of /u ; fixes #503
* 50_opsi-client-agent.cmd: log goes to c:\opsi.org\log

-- Niko Wenselowski <n.wenselowski@uib.de>  Fri, 10 Jul 2015 10:31:25 +0100

opsi-client-agent (4.0.6.1-2) experimental; UNRELEASED; urgency=low

* fix in config.opsiscript: missing variable fo opsiclientd.conf
* Update SSL DLLs from opsi-script to opsiclientd ; refrences #1491
* integrate openssl to opsi-client-agent directory
* no special uninstall for openssl anymore
* No Environment vars for openssl
* use http://indy.fulgan.com/SSL/ instead of shining light ssl
* update to openssl 1.0.2c
* Updated opsi-deploy-client-agent (niko)
* OpsiLoginBlocker.dll logfile changes (loglevel first) (mm)
* setup.opsiscript: changed Error message on copy failure
* update to opsi-winst 4.11.5.6
* *.opsiscript: for win10: change all '$INST_NTVersion$ < "6.0"' to CompareDotSeparatedNumbers
* new property: depends_on_service : List of services that have to started before opsiclientd ; fixes #1581

-- Detlef Oertel <d.oertel@uib.de>  Tue, 17 Mar 2015 15:00:00 +0100

opsi-client-agent (4.0.6.1-1) experimental; urgency=low

* openssl update to 1.0.1L  ; references #1027
* Updated deployment script
* scripts renamed from *.ins to *.opsiscript
* scripts: c:\tmp replaced by %opsiTmpDir% or %opsiLogDir%
* scripts: ALLUSERS=2 replaced by ALLUSERS=1
* update to opsi-winst 4.11.5.1 (do)
* cleanup unused files
* get hostname from %pcname% ; references #1369
* make silent_setup.cmd complete unattend ; references #503
* icon for softwareOnDemand ; references #936
* support for multiple clientconfig.configserver.url ; patch from <boris.synak@zobelsoft.de> ; references #1237
* set also opsi-winst to installed ; references #1329
* new update script files\opsi\config.opsiscript / subconfig.opsiscript for activate event_on_shutdown and LinkFolder_install_softwareOnDemand ; references #1329
* associate *.opsiscript files with winst32.exe ; references #1045
* start "%ScriptPath%\custom\custom.opsiscript" after sub_write_configuration ; references #458
* uninstall: fixes for on_shutdown registry keys
* postinst: for backward compatibiliy: create a setup.ins as hard link

-- Detlef Oertel <d.oertel@uib.de>  Mon, 26 Jan 2015 15:00:00 +0100

opsi-client-agent (4.0.5.4-1) stable; urgency=low

* update to opsiclientd 4.0.83 (eu)

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Mon, 20 Feb 2015 11:15:00 +0100

opsi-client-agent (4.0.5.3-3) stable; urgency=low

* update to opsi-winst 4.11.4.16 (do)

-- Detlef Oertel <d.oertel@uib.de>  Mon, 02 Feb 2015 15:00:00 +0100

opsi-client-agent (4.0.5.3-2) stable; urgency=low

* update to opsi-winst 4.11.4.15 (do)

-- Detlef Oertel <d.oertel@uib.de>  Fri, 20 Jan 2015 15:00:00 +0100

opsi-client-agent (4.0.5.3-1) stable; urgency=low

* OpsiLoginBlocker.dll next fix for Win8.1 reboot delay (final block request)
* logfile name changed from opsi_loginblocker.txt to opsi_loginblocker.log
* opsi_loginblocker daily logfile ageing opsi_loginblocker.log / opsi_loginblocker.log.0 / *.log.1 / *.log.2 / *.log.3 - so last five days available
* setup.ins: Registry_opsigina_opsi_Config: use $INST_gina_to_chain$ with single quotes to avoid double quoting (do)
* setup.ins: if $INST_gina_to_chain$ is single mark quoted - change it to double mark quotes (do)
* update to opsi-winst 4.11.4.14 (do)

-- Miriam Michaelis <m.michaelis@uib.de>  Mon, 17 Nov 2014 15:00:00 +0100

opsi-client-agent (4.0.5.2-2) stable; urgency=low

* fix at opsiservicecall_getGeneralConfigValue_depotuser: retry and default fallback (do 22.10.2014)
* opsi-winst 4.11.4.12

-- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 15:00:00 +0100

opsi-client-agent (4.0.5.2-1) stable; urgency=low

* opsiclientd 4.0.82

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Sat, 11 Oct 2014 22:38:00 +0100

opsi-client-agent (4.0.5.1-8) stable; urgency=low

* opsiclientd 4.0.81
* setup.ins: switch to fatal on Linux (do)
* update to opsi-winst 4.11.4.10 (do)

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 8 Oct 2014 13:50:00 +0100

opsi-client-agent (4.0.5.1-7) stable; urgency=low

* opsiclientd 4.0.79

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 25 Jul 2014 03:09:00 +0100

opsi-client-agent (4.0.5.1-6) stable; urgency=low

* opsiclientd 4.0.78

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 25 Jul 2014 03:09:00 +0100

opsi-client-agent (4.0.5.1-5) stable; urgency=low
* fixes in sub_restore_productOnClient for opsi-local-image
-- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Jul 2014 15:00:00 +0100

opsi-client-agent (4.0.5.1-4) stable; urgency=low

* fixes broken gina chain if
Winlogon.GinaDLL=thirdpartygina and
opsi.org\opsi-client-agent] NextGina=msgina.dll setup.py
fixes # 1100
* for oli productOnClient restore: restore existing actionrequests=setup after json restore (do)
* code cleanup (preloginloader) from uninstall (do)

-- Bardo Wolf <b.wolf@uib.de>  Fri, 27 Jun 2014 10:49:00 +0100

opsi-client-agent (4.0.5.1-3) stable; urgency=low

* for oli productOnClient restore: in opsiServiceCall_get_productOnClient condition "actionRequest":"none"
So we delete only the localboot products with no actionrequest
* update to opsenssl 1.0.1h
* opsi-winst 4.11.4.6
* fix in setup.py fixes # 1100

-- Detlef Oertel <d.oertel@uib.de>  Wed, 18 Jun 2014 15:00:00 +0100


opsi-client-agent (4.0.5.1-2) stable; urgency=low

* delete new opsiclientd.conf sections for combination wan/vpn with install by shutdown
* for oli productOnClient restore: in opsiServiceCall_get_productOnClient condition "actionRequest":"none"
So we delete only the localboot products with no actionrequest

-- Karsten Koepke <k.koepke@uib.de>  Thu, 13 Jun 2014 15:00:00 +0100


opsi-client-agent (4.0.5.1-1) stable; urgency=low ; RELEASED

* added new opsiclientd.conf sections for combination wan/vpn with install by shutdown
* fix in sub_restore_productOnClient (set bootmode to bkstd )

-- Miriam Michaelis <m.michaelis@uib.de>  Tue, 10 Jun 2014 15:00:00 +0100

opsi-client-agent (4.0.5-1) stable; urgency=low

* changed setup.ins (delete loginblocker logfile and timeout file)
* fix in sub_restore_productOnClient (use $INST_ClientId$ instead of %HostId%)
* new: in property uac_value new value 0='no change' (experimental)

-- Miriam Michaelis <m.michaelis@uib.de>  Tue, 29 Apr 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-4) stable; urgency=low

* opsi-winst 4.11.4.4

-- Detlef Oertel <d.oertel@uib.de>  Fri, 25 Apr 2014 15:00:00 +0100


opsi-client-agent (4.0.4.5-3) stable; urgency=low

* new opsiloginblocker.dll V1.2.0.5/credential provider filter (no multiple timeouts)
* new opsigina.dll 1.3.0.2 (no multiple timeouts)
* fix in lib directory of opsi-winst; https://forum.opsi.org/viewtopic.php?f=6&t=6142
* sub_restore_productOnClient: restore productOnClient if found in c:\opsi.org\tmp (for capture image use)
* opsi-winst 4.11.3.11

-- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100

opsi-client-agent (4.0.4.5-2) stable; urgency=low

* opsi-winst 4.11.4.3
* use of isDriveReady to disable  critical-error-handler message box. (Drive not ready)

-- Detlef Oertel <d.oertel@uib.de>  Thu, 20 Mar 2014 15:00:00 +0100


opsi-client-agent (4.0.4.5-1) stable; urgency=low

* new credential provider filter with fix for >= nt6.2 opsiloginblocker.dll V1.2.0.2
* loginblocker logfile written to dir opsi.org\log

-- Miriam Michaelis <m.michaelis@uib.de>  Tue, 18 Mar 2014 15:00:00 +0100

opsi-client-agent (4.0.4.4-1) stable; urgency=low

* opsiclientd 4.0.77
* python-opsi 4.0.4.4-1
* fix in install logic at command line parameter handling to avoid runtime errors

-- Erol Ueluekmen <e.ueluekmen@uib.de> Wed, 23 Jan 2014 01:05:28 + 0100

opsi-client-agent (4.0.4.3-1) stable; urgency=low

* if $INST_MODUS$ = "INSTALL" tyr to initialize webservice by clientid and pckey

-- Detlef Oertel <d.oertel@uib.de>  Mon, 13 Jan 2014 15:00:00 +0100

opsi-client-agent (4.0.4.2-1) stable; urgency=low

* update to opsi-winst 4.11.3.11
* allow non-admin logins (scripted or interactive) to install clients only
with createClient credential (see also 4.0.2.2-1)

-- Detlef Oertel <d.oertel@uib.de>  Wed, 08 Jan 2014 15:00:00 +0100

opsi-client-agent (4.0.4.1-1) stable; urgency=low

* patch opsicliend.conf: [depot_server]: user (from config clientconfig

-- Detlef Oertel <d.oertel@uib.de>  Fri, 20 Dec 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-5) stable; urgency=low

* Do not install opsi-gina when loginblockerstart is off

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 16 Mai 2013 13:00:00 +0100

opsi-client-agent (4.0.3.1-4) stable; urgency=low

* experimental replace '_' by '-' for pc name

-- Detlef Oertel <d.oertel@uib.de>  Thu, 02 Mai 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-3) stable; urgency=low

* cleanup vcredist files on data partition

-- Detlef Oertel <d.oertel@uib.de>  Tue, 09 Apr 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-2) stable; urgency=low

* opsi-winst 4.11.3.6

-- Detlef Oertel <d.oertel@uib.de>  Tue, 12 Mar 2013 15:00:00 +0100

opsi-client-agent (4.0.3.1-1) stable; urgency=low

* changed to 4.0.3.1

-- Detlef Oertel <d.oertel@uib.de>  Fri, 15 Feb 2013 15:00:00 +0100

opsi-client-agent (4.0.2.3-2) testing; urgency=low

* opsiclientd.conf:
- [event_on_shutdown{installation_pending}]active=False
* opsiclientd:
- v4.0.1.76
- new state installation_pending for future use (event_on_shutdown)
* new product property: on_shutdown_active (true/false)
* new updatescript, which installs shutdown files if on_shutdown_active=true

-- Miriam Michaelis <m.michaelis@uib.de>  Wed, 05 Dec 2012 13:00:00 +0100

opsi-client-agent (4.0.2.3-1) testing; urgency=low

* opsiclientd:
- fix for user_cancelable = 0
- fix for getSessioninformation
- updated sessionhelper in utilities
- added /usercontext parameter for user-login events. This option gives now opsi-winst the username.
- fix for User-Login-Events on Windows 8: Do not fire event, if the Window Management Service is logged on.
* new custom directory
- is saved in preinst and restored in postinst
- cfg/config.ini values will be overwritten by values from custom/config.ini (execption: pckey , bootmode) fixes #333
- it is a good idea to delete all not used key from a custom/config.ini
- files at the depot in custom\winstskin\*.* will be copied to custom\winstskin\ at the client and will be used by opsi-winst since version
- files at the depot  in custom\notifier\*.* will be overwrite the files at the clients notifier directory
- a existing file at the depot: custom\opsiclientd.conf will overwrite the opsiconfd.conf files at the clients opsiclientd directory, which comes from the 'dist' directory

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 14 Nov 2012 09:00:00 +0100

opsi-client-agent (4.0.2.2-1) experimental; urgency=low

* uib#: 2012071210000012 ] opsi client agent
* change service login by user to create client methods - all following methodes done by machine account
* requires winst 4.11.3.2
* some fixes on uninstall for nt6

-- Detlef Oertel <d.oertel@uib.de>  Thu, 30 Aug 2012 15:00:00 +0100


opsi-client-agent (4.0.2.1-2) stable; urgency=low

* no interactive message on copy error if $INST_SubModus$="CREATE_CLIENT"
* opsi-winst 4.11.3.2
* use of GetMyIpByTarget()
* use of GetIpByName()
* devided Files_redist_cleanup to Files_redist_cleanup_c and Files_redist_cleanup_d
* fix in Winbatch_vc_redist_msi
* use preferred host/key authentication on remotedeploy
* double call of opsiservicecall_setOpsiclientagentInstallationStatus (unknown/installed) to update properly

-- Detlef Oertel <d.oertel@uib.de>  Mon, 4 Jun 2012 15:00:00 +0100

opsi-client-agent (4.0.2.1-1) stable; urgency=low

* Featurepack-Release 4.0.2

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Wed, 30 May 2012 15:40:00 +0200

opsi-client-agent (4.0.1-31) stable; urgency=low

* opsiclientd:
* Workarround for WinApi (lsaGetLogonSessiondata) Bug in NT5 x64
* opsi-winst 4.11.2.9

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 14 May 2012 12:20:56 +0200

opsi-client-agent (4.0.1-30) stable; urgency=low

* opsiclientd:
* ArchitectureCheck-Bugfix for Win7.

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 05 May 2012 10:20:56 +0200

opsi-client-agent (4.0.1-29) stable; urgency=low

* opsiclientd: 4.0.70:

* update openSSL to 1.0.0i (http://www.openssl.org/news/secadv_20120419.txt)
* opsi-winst 4.11.2.8
* new property: create_software_on_demand_menue_entry

-- Detlef Oertel <d.oertel@uib.de>  Wed, 26 Apr 2012 15:00:00 +0100

opsi-client-agent (4.0.1-28) stable; urgency=low

* opsiclientd: 4.0.69:
* Added python-opsi 4.0.1.38-1
* Try to read out local admin group and his members for login to the ControlServer from opsiclientd

-- Erol Ueluekmen <e.ueluekmen@uib.de>  Thu, 12 Apr 2012 15:50:56 +0200


opsi-client-agent (4.0.1-27) stable; urgency=low

* fix in DosInAnIcon_wmic_get_os_DataExecutionPrevention_SupportPolicy
* opsi-winst 4.11.2.7
* new version of ip2mac.exe
* deinstall.cmd: 64 bit patch; https://forum.opsi.org/viewtopic.php?f=6&t=3411
Thanks to valentino-46
* setup.ins: XP 64 bit Patch: sub_read_configuration, sub_write_configuration
https://forum.opsi.org/viewtopic.php?f=7&t=3402&p=16309#p16309
Thanks to valentino-46
* uninstall.ins: xp 64 patch

-- Detlef Oertel <d.oertel@uib.de>  Wed, 03 Apr 2012 15:00:00 +0100


opsi-client-agent (4.0.1-26) stable; urgency=low

* update openSSL to 1.0.0g (http://www.openssl.org/news/secadv_20120118.txt)
* opsi-winst 4.11.2.5
* change: setup.ins: DosInAnIcon_lock_opsiclientagent : make winst executable for user
* opsiclientd 4.0.68:
* python-opsi 4.0.1.37-1
* fix: WAN/VPN localhost Bad FQDN
* fix: delete configs from config-file which are deleted from Hostparamaters
* fix: wait for trusted installer only when gui_startup event and no user is logged in (on booting nt6)
* added: french localization of messages in in opsiclientd.conf

-- Detlef Oertel <d.oertel@uib.de>  Fri, 20 Jan 2012 15:00:00 +0100


opsi-client-agent (4.0.1-25) stable; urgency=low

* opsi-winst 4.11.2.3

-- Detlef Oertel <d.oertel@uib.de>  Fri, 15 Dec 2011 15:00:00 +0100


opsi-client-agent (4.0.1-24) stable; urgency=low

* opsi-winst 4.11.2.2
* opsiclientd 4.0.67
* Fix pre / post action processor commands

-- Detlef Oertel <d.oertel@uib.de>  Fri, 15 Dec 2011 15:00:00 +0100

opsi-client-agent (4.0.1-23) stable; urgency=low

* opsi-winst 4.11.2.1
* opsiclientd.conf:
* event_user_login: update_action_processor = true
* event_user_login: action_message =
* event_user_login: action_message[de] =
* opsiclientd 4.0.66:
* SoftwareOnDemand-Module released as OpenSource
* run login type actions as SYSTEM
* using python-opsi 4.0.1.33
* added opsi-deploy-client-agent-old (without smblient)
* modified postinst to patch config.ini with configserver.url from server

-- Detlef Oertel <d.oertel@uib.de>  Fri, 17 Oct 2011 15:00:00 +0100

opsi-client-agent (4.0.1-22) stable; urgency=low

* service-setup.cmd: allow noreboot as parameter
* setup.ins: allow reboot/noreboot as 3. parameter
* new directory extended-scripts with: setprod2setup.ins and service-setup-and-hwaudit.cmd

-- Detlef Oertel <d.oertel@uib.de>  Fri, 30 Sep 2011 15:00:00 +0100

opsi-client-agent (4.0.1-21) stable; urgency=low

* opsiclientd 4.0.64
- Force notifierApplication stop

-- Erol Ueluekmen <e.eueluekmen@uib.de>  Tue, 13 Sep 2011 17:00:00 +0100

opsi-client-agent (4.0.1-20) stable; urgency=low

* Fix uninstall on NT6
* opsi-winst 4.11.1.6

-- Detlef Oertel <d.oertel@uib.de>  Thu, 09 Sep 2011 15:00:00 +0100

opsi-client-agent (4.0.1-19) stable; urgency=low

* Set UAC Level to 4 : EnableLUA = 0

-- Detlef Oertel <d.oertel@uib.de>  Thu, 07 Sep 2011 15:00:00 +0100

opsi-client-agent (4.0.1-18) stable; urgency=low

* opsi-winst 4.11.1.5
* go back to setacl.exe 2.2.0
* check for WMI Service before try to get MAC

-- Detlef Oertel <d.oertel@uib.de>  Thu, 19 May 2011 15:00:00 +0100

opsi-client-agent (4.0.1-17) stable; urgency=low
* using setacl.exe 2.2.0 on Win2k  now
* using setacl.exe 2.3.0 on not Win2k-OS

-- Bardo Wolf <b.wolf@uib.de>  Tue, 31 Aug 2011 10:49:00 +0100

* opsi-deploy-client-agent 4.0.1.4
* fixes handling of "_"

-- Jan Schneider <j.schneider@uib.de>  Tue, 31 Aug 2011 10:49:00 +0100

opsi-client-agent (4.0.1-16) stable; urgency=low

  * fixes http://redmine/issues/311
    service_setup fails, if vcredist not installed

  * setacl.exe 2.3.0

 -- Bardo Wolf <b.wolf@uib.de>  Tue, 30 Aug 2011 10:49:00 +0100

opsi-client-agent (4.0.1-15) stable; urgency=low

  * opsiclientd 4.0.63
     - replace %service_session% in action processor command with current session id or none

 -- Jan Schneider <j.schneider@uib.de>  Wed, 17 Aug 2011 15:49:00 +0100

opsi-client-agent (4.0.1-14) experimental; urgency=low

  * opsi-deploy-client-agent 4.0.1.4
     - Use smbclient for file transfers
  * new product property "allow_reboot"

 -- Jan Schneider <j.schneider@uib.de>  Wed, 17 Aug 2011 15:49:00 +0100

opsi-client-agent (4.0.1-13) experimental; urgency=low

  * opsiclient 4.0.62
     - New feature: create desktops
     - Fix shutdown_cancel_counter
  * opsi-deploy-client-agent 4.0.1.3
     - New option "-o": start opsiclientd service after installation

 -- Jan Schneider <j.schneider@uib.de>  Thu, 04 Aug 2011 18:32:00 +0100

opsi-client-agent (4.0.1-12) stable; urgency=low

  * opsiclient 4.0.61
     - umount depotshare if action processor up to date
  * Files_copy_winst: ; do not use -V because it leads to broken winst on downgrade

 -- Jan Schneider <j.schneider@uib.de>  Mon, 25 Jul 2011 12:04:00 +0100

opsi-client-agent (4.0.1-11) stable; urgency=low

  * UAC enhancement: product property: UAC_level
  * cleanup: "c:\tmp\ssl_tmp"
  * opsiclient 4.0.60:
     - Fix caching of mshotfix on nt6
     - Fix sqlite escaping of apostrophe character (swaudit + wan/vpn)
     - Always accept certificates signed by uib CA

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 22 Jun 2011 15:00:00 +0100

opsi-client-agent (4.0.1-10) stable; urgency=low

  * opsiclient 4.0.59
     - Do not check cert of localhost
     - Added service method getActiveSessions()

 -- Jan Schneider <j.schneider@uib.de>  Fri, 17 Jun 2011 14:35:00 +0100

opsi-client-agent (4.0.1-9) stable; urgency=low

  * setup.ins: use getipbytarget to get best interface
  * opsiclient 4.0.58: verify_server_cert_by_ca, reread config file after action processing
  * opsi-winst 4.11.1.1-2

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 31 May 2011 15:00:00 +0100

opsi-client-agent (4.0.1-8) stable; urgency=low

  * do not save the opsiclientd.conf if it is changed agaist opsiclientd.conf.template
  * setup.ins: try to initalize the connection to the server before detecting the MAC
  * update: openssl 1.0.0d

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 19 May 2011 15:00:00 +0100

opsi-client-agent (4.0.1-7) stable; urgency=low

  * opsiclient 4.0.56
     - Fix mount with domain part in username
     - Load profile, create environment (action_processor.create_environment)
  * opsiginatest.exe (32/64)4.0.1: using 'testload' instead of 'test', fixes #234

 -- Jan Schneider <j.schneider@uib.de>  Thu, 05 May 2011 12:01:00 +0100

opsi-client-agent (4.0.1-6) stable; urgency=low

  * Files_redist_cleanup: removing files also from d:
  * moved Files_redist_cleanup to sub_clean_up
  * opsi-deploy-client-agent: Fix getting ProgramFiles path
  * opsiclient 4.0.55
     - Fix user_cancellable_after

 -- Jan Schneider <j.schneider@uib.de>  Mon, 11 Apr 2011 13:21:00 +0100

opsi-client-agent (4.0.1-5) stable; urgency=low

  * opsiclient 4.0.54
     - Start reactor early
     - Add timeout when starting notification server

 -- Jan Schneider <j.schneider@uib.de>  Fri, 01 Apr 2011 11:56:00 +0100

opsi-client-agent (4.0.1-4) stable; urgency=low

  * opsiclient 4.0.53
     - new version of python opsi
     - verify opsi-depot cert

 -- Jan Schneider <j.schneider@uib.de>  Tue, 29 Mar 2011 18:54:00 +0100

opsi-client-agent (4.0.1-3) testing; urgency=low

  * opsiclient 4.0.52
     - SoftwareOnDemand: lower case product groups
     - WAN: update action processor

 -- Jan Schneider <j.schneider@uib.de>  Wed, 16 Mar 2011 12:57:00 +0100

opsi-client-agent (4.0.1-2) testing; urgency=low

  * opsiclient 4.0.51
     - remove log from info page
     - switch action.bmp and event.bmp
     - remove progressbars from event.ini
     - verify server cert

 -- Jan Schneider <j.schneider@uib.de>  Mon, 21 Feb 2011 09:49:00 +0100

opsi-client-agent (4.0.1-1) testing; urgency=low

  * opsiclientd 4.0.50
     - software on demand
     - info page
     - wan vpn
  * add link to software on deman page to startmenu

 -- Jan Schneider <j.schneider@uib.de>  Mon, 21 Feb 2011 09:49:00 +0100

opsi-client-agent (4.0-13) testing; urgency=low

  * bugfixes in register all known depots as trusted:
     * also use hostname (netbiosnames)
     * try to authenticate at the webservice if in bootimage mode

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 27 Jan 2011 19:00:00 +0100

opsi-client-agent (4.0-12) testing; urgency=low

  * opsigina.dll 1.3
     - prevent gina chain loop (NextGina = opsigina.dll)
     - read config from HKLM\Software\opsi.org\opsi-client-agent with fallback to ..\preloginloader
  * opsiclientd 4.0.25: Close socket in HTTP
  * make/delete Registry settings at HKLM\Software\opsi.org\opsi-client-agent (and preloginloader)
  * workaround for bug #197 removed
  * make/delete and lock new directory $OCD_OpsiVarDir$ (c:\opsi.org) for caching, logging, etc
  * setup.ins: Aborts with interactive message if copy fails
  * kills notifier.exe on uninstall
  * uninstall: fallback to deactivation if first gina is not a well known opsi gina
  * new product property: on_uninstall , possible values: deactivation, uninstall
  * ask for all known depots and set register them all as trusted

 -- Jan Schneider <j.schneider@uib.de>  Tue, 11 Jan 2011 20:16:00 +0100

opsi-client-agent (4.0-11) stable; urgency=low

  * opsiclientd 4.0.24
     - honor config opsiclientd.depot.protocol
  * opsi-winst 4.10.8.12
  * registry /sysnative also for win2k since #197 is fixed in winst 4.10.8.12
  * opsi-deploy-client-agent 4.0.1
     - add option -S: skip known clients
     - add option -t: concurrent deployment threads

 -- Jan Schneider <j.schneider@uib.de>  Thu, 02 Dec 2010 12:14:00 +0100

opsi-client-agent (4.0-10) stable; urgency=low

  * opsiclientd 4.0.23
     - default base dir c:\opsi.org
     - move non free code to ocdlibnonfree
     - upgrade to latest python-opsi version
  * some fixes in uninstall: fixes #170
  * new: opsiginatest.exe: if opsigina test fails it will be not installed
  * no registry /sysnative calls for win2k (see #197)
  * defaultloglevel at debug=off is now 6

 -- Jan Schneider <j.schneider@uib.de>  Fri, 26 Nov 2010 14:27:00 +0100

opsi-client-agent (4.0-9) stable; urgency=low

  * opsiclientd 4.0.21
     - honor config opsiclientd.depot_server.url
     - replace _ by - in host_id
     - upgrade to latest python-opsi version

 -- Jan Schneider <j.schneider@uib.de>  Wed, 17 Nov 2010 18:54:00 +0100

opsi-client-agent (4.0-8) testing; urgency=low

  * setacl.exe 2.1.1
  * sequence of 'DosInAnIcon_lock_opsiclientd_conf' and 'DosInAnIcon_lock_opsiclientagent' changed fixes #185
  * service_setup.cmd: use of %comspec% and %sysroot% instead of hardcoded path

 -- Bardo Wolf <b.wolf@uib.de>  Tue, 11 Nov 2010 15:46:00 +0100

opsi-client-agent (4.0-7) testing; urgency=low

  * opsiclientd 4.0.20
     - product caching feature
     - authenticate: username case insensitive, use global.host_id as default username

 -- Jan Schneider <j.schneider@uib.de>  Mon, 25 Okt 2010 22:14:00 +0100

opsi-client-agent (4.0-6) testing; urgency=low

  * opsi-winst 4.10.8.7

 -- Bardo Wolf <b.wolf@uib.de>  Tue, 19 Okt 2010 15:46:00 +0100

opsi-client-agent (4.0-5) testing; urgency=low

  * opsiclientd 4.0.11
     - german locale
     - user_cancelable now int (how often is the user allowed to cancel event)
     - shutdown_warning_time: warn user before reboot/shutdown (in seconds)
     - shutdown_user_cancelable: how often is the user allowed to cancel reboot/shutdown
     - shutdown_warning_repetion_time: time to wait before the warning message is displayed again (in seconds)
   * change preloginloader.ins: get dns-name from config.ini, if this fails try wmic
   * bugfix in setup.ins: trailing ';' removed at base64DecodeStr
   * change $INST_Debug$ is now set to "off"

 -- Jan Schneider <j.schneider@uib.de>  Thu, 16 Sep 2010 14:49:00 +0100

opsi-client-agent (4.0-4) testing; urgency=low

  * bugfix: prelogin service will be always removed
  * bugfix: opsi-client-agent installation state will be always set
  * winst 4.10.8.5
  * changes at patch_config_file.py for different opsi versions

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 15 Sep 2010 15:00:00 +0100

opsi-client-agent (4.0-3) testing; urgency=low

  * removed: prelogin mode
  * winst 4.10.8.4
  * bugfix in uninstall registry entries
  * opsiclientd 4.0.2

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 01 Sep 2010 15:00:00 +0100

opsi-client-agent (4.0-2) testing; urgency=low

  * set ACLs for %programFilesDir%\opsi.org\opsi-clientagent
  * winst 4.10.8.2
  * setacl.exe 2.0.3
  * opsiclientd 4.0.1

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 12 Aug 2010 15:00:00 +0100


opsi-client-agent (4.0-1) testing; urgency=low

  * initial from preloginloader_3.4-65
  * Script names changed to setup.in and uninstall.ins
  * using %IP-Address if own IP not found by netstat

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 2 Jul 2010 15:00:00 +0100


preloginloader (3.4-65) testing; urgency=low

  * added registry uninstall entry and remove on uninstall
  * deinstallation of opsi-client-agent product
  * some cosmetic changes at deinstall.cmd

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 1 Jul 2010 15:00:00 +0100


preloginloader (3.4-64) testing; urgency=low

  * opsiclientd 3.99.2
      - showPopup improved

 -- Jan Schneider <j.schneider@uib.de>  Tue, 29 Jun 2010 16:34:22 +0200

preloginloader (3.4-63) testing; urgency=low

  * opsiclientd 3.99.1.1
      - waiting for TrustedInstaller process / mshotfix for win>=6.0
      - new feature: showPopup
      - new winst 4.10.7.4

 -- Erol Ueluekmen <e.ueluekmen@uib.de>  Fri, 18 Jun 2010 10:28:14 +0200

preloginloader (3.4-62) testing; urgency=low

  * code cleanup based on new 64 Bit winst functions
  * use of "netsh advfirewall firewall" for nt >= 6.0

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 30 Apr 2010 15:00:00 +0100

preloginloader (3.4-61) testing; urgency=low

  * new winst 4.10.6.4
  * included files cleanup

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 29 Apr 2010 15:00:00 +0100


preloginloader (3.4-60) testing; urgency=low

  * Fixed logging bug in opsi python lib

 -- Jan Schneider <j.schneider@uib.de>  Fri, 23 Apr 2010 13:40:43 +0200

preloginloader (3.4-59) testing; urgency=low

  * opsiclientd 3.99.0.0
     - forcing exceptions to unicode berfore logging
     - allowing top level domains with up to 16 chars

 -- Jan Schneider <j.schneider@uib.de>  Thu, 22 Apr 2010 11:13:03 +0200

preloginloader (3.4-58) experimental; urgency=low

  * opsiclientd 3.4.99.7
     - UserLoginEvent action type = login: do not use WTS api to get user session id
     - DebugLog (set [HKLM\SYSTEM\CurrentControlSet\Services\opsiclientd] Debug = 1)

 -- Jan Schneider <j.schneider@uib.de>  Tue, 20 Apr 2010 18:49:34 +0200

preloginloader (3.4-57) experimental; urgency=low

  * opsiclientd 3.4.99.6
     - removed wait_before_shutdown and wait_before_reboot
     - always shutting down / rebooting as fast as possible
     - action processor user will only be created once
     - UserLoginEvent on StartShell event not Logon event
  * opsigina.dll 1.2
     - block on WlxLoggedOutSAS
     - check reboot/shutdown requests
     - improved logging
  * osiLoginBlocker.dll 1.2
     - improved logging

 -- Jan Schneider <j.schneider@uib.de>  Thu, 15 Apr 2010 18:36:00 +0200

preloginloader (3.4-56) experimental; urgency=low

  * opsiclientd 3.4.99.5
     - not reporting service status stopped
     - fixed timing for autologin
  * not activating login logging (security log) anymore

 -- Jan Schneider <j.schneider@uib.de>  Tue, 13 Apr 2010 10:00:00 +0100

preloginloader (3.4-55) experimental; urgency=low

  * opsiclientd 3.4.99.4
     - better cleanup on exit
     - NTControlPipe rewritten
  * opsigina.dll 1.1
     - Fixed bug leading to crash if a registry key is missing
     - opsi3.5 loglevels
     - rundll32 opsigina.dll,testload will now create the file c:\tmp\opsigina_testload
  * opsiLoginBlocker.dll 1.1
     - Fixed bug leading to crash if a registry key is missing
     - opsi3.5 loglevels

  * disabled: opsigina test (rundll32.exe opsigina,test)

 -- Jan Schneider <j.schneider@uib.de>  Wed, 7 Apr 2010 14:10:00 +0100

preloginloader (3.4-54) experimental; urgency=low

  * bugfix at get_host_by_name.exe
  * Mac Address will not detected if config server can't be resolved

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 6 Apr 2010 15:00:00 +0100

preloginloader (3.4-53) experimental; urgency=low

  * get pcname from opsiclientd.conf
  * Winbatch_test_loginblocker_32 /WaitForProcessEnding "rundll32.exe" /TimeOutSeconds 2

 -- Jan Schneider <j.schneider@uib.de>  Tue, 30 Mar 2010 17:00:00 +0100

preloginloader (3.4-52) experimental; urgency=low
  * opsiclientd 3.4.99.3
     - fix: prevent system standby
     - UserLoginEvent by SensLogon
     - Not blocking login if no gui_startup events are defined
  * OpsiLoginBlocker for nt6: improved behaviour
  * Bug fix in DosInAnIcon_close_firewall_for_control_server (name parameter was not allowed)
  * opsigina test (rundll32.exe opsigina,test)
  * Error Code 1603 acepted as ok in check_exitcode (for vc_redist)
  * Log-Level for opsiclientd and opsiloginblocker set to 5 (for experimental only)
  * Debug=on
  * Registry Keys for credential provider removed
  * no installation of vcredist32 on 2008r2 (6.1 and 64 Bit and producttype > 1)
  * installation will be aborted on 2008r2, if vcredistx86 is not installed
  * restore of changed config.ini in postinst removed
  * winst 4.10.1.0
  * Bugfix: Installation of vcredistx86 also in prelogin mode for opsigina
  * retrieving OS-Producttype by GetMSVersionMap (winst 4.10.0)

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 11 Mar 2010 15:00:00 +0100


preloginloader (3.4-51) experimental; urgency=low

  * vcredistx64 only on xp64 and 2003x64

 -- Detlef Oertel <d.oertel@uib.de>  Tue, 10 Wed 2010 15:00:00 +0100

preloginloader (3.4-50) experimental; urgency=low

  * replaced vcredist 9.0.21022.8 by 9.0.30729.4148
  * -> see http://support.microsoft.com/kb/969706
  * -> see http://www.microsoft.com/technet/security/bulletin/ms09-035.mspx
  * vcredist_x64: exitcodes 0 and 1603 seems to be ok, any other code try with msi

 -- Detlef Oertel <d.oertel@uib.de>  Tue, 9 Mar 2010 15:00:00 +0100

preloginloader (3.4-49) experimental; urgency=low

  * opsiclient 3.4.99.2
      - new non blocking socket connects
  * opsi-deploy-preloginloader 0.9
      - try to mount c$ with and without port=139

 -- Jan Schneider <j.schneider@uib.de>  Fri, 05 Mar 2010 16:06:00 +0100

preloginloader (3.4-48) testing; urgency=low

  * opsiclient as default

 -- Jan Schneider <j.schneider@uib.de>  Mon, 01 Mar 2010 09:56:00 +0100

preloginloader (3.4-47) experimental; urgency=low

  * opsiclient 3.4.99
  * python 2.6
  * delphi ip2mac.exe
  * make opsiclientd depending ond dhcp and dnscache services

 -- Jan Schneider <j.schneider@uib.de>  Mon, 22 Feb 2010 17:35:00 +0100

preloginloader (3.4-46) experimental; urgency=low

  * password loglevel set to 0 (new winst didn't count errors at level -2)
  * add error handling at opsiservicecall_UserIsAdmin after scripted login with account data from config.ini
  * if serviceurl is given with IP-Name (not IP-Number) trys to convert to IP-Number by get_host_by_name.exe (c) uib
  * some clean up of not used sections
  * tells server the mac even in update mode

-- Detlef Oertel <d.oertel@uib.de>  Mon, 19 Feb 2010 15:00:00 +0100

preloginloader (3.4-45) experimental; urgency=low

  * copy vcredist dlls and manifest to dist lib

 -- Jan Schneider <j.schneider@uib.de>  Fri, 12 Feb 2010 15:57:00 +0100

preloginloader (3.4-44) experimental; urgency=low

  * prelogin mode now available until win 5.2 (32 Bit)
  * set DisableCAD=0 in winlogon registry at XP64 to prevent waits at reboot/shutdown
  * experimental combination of 	Winbatch_vc_redist_exe_64 / Winbatch_vc_redist_msi_64

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 11 Jan 2010 15:00:00 +0100


preloginloader (3.4-43) experimental; urgency=low

  * added possibility to use encrypted password in config.ini

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 11 Jan 2010 15:00:00 +0100


preloginloader (3.4-42) experimental; urgency=low

  * opsiclientd 0.7.9
      - login blocker notifier added
      - not longer using wmi to determine if gui started
  * winst 4.9.4-2

 -- Jan Schneider <j.schneider@uib.de>  Wed, 13 Jan 2010 16:36:15 +0100

preloginloader (3.4-41) experimental; urgency=low

  * change new loginblocker: opsigina.dll 1.0
  * opsi-winst 4.9.4-1
  * opsiclientd 0.7.8.2

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 11 Jan 2010 15:00:00 +0100


preloginloader (3.4-40) experimental; urgency=low

  * experimental not install vc_redist if installed
  * disable Data Execution Prevention (DEP) for opsiclientd.exe
  * install vcredist via setup.exe /Q and /WaitForProcessEnding for win >= 6.1
  * language neutral message: 'opsi-preloginloader installation'
  * added Sub_check_exitcode for winbatch sections
  * added vcredist_x64 installation on 64 Bit systems

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 14 Dec 2009 15:00:00 +0100

preloginloader (3.4-39) experimental; urgency=low

  * pgina.dll for win2k 1.72.4.20
  * bugfix: sub_fetch_SearchResult
  * bugfix: catch Error if we could not get the hostkey after createClient
  * bugfix: activate.cmd: wrong message
  * bugfix: delpreloginloader.ins: corrected messages
  * english messages at service_setup.cmd
  * opsiclient 0.7.8: control server backport from opsi3.5

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 14 Dec 2009 15:00:00 +0100

preloginloader (3.4-38) experimental; urgency=low

  * opsiclient 0.7.7.1
        * trying to fix UnicodeError

 -- Jan Schneider <j.schneider@uib.de>  Tue, 01 Dec 2009 17:53:21 +0100

preloginloader (3.4-37) experimental; urgency=low

  * $OLB_LogLevel$ in preloginloader.ins and Loglevel in config.ini from
    8 to 0 HKLM\Software\opsi.org\preloginloader\DebugOutput=0

 -- Bardo Wolf <b.wolf@uib.de>  Tue, 01 Dec 2009 15:11:00 +0100

preloginloader (3.4-36) experimental; urgency=low

  * new pgina.dll 1.72.4.19 for win2k
	* 64 bit: ExecWith_Registry_UAC_off
	* 64 bit: ExecWith_Registry_hklm_set_depotshare_trusted
  * opsiclient 0.7.7
        * Unicode support

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 27 Nov 2009 15:00:00 +0100

 preloginloader (3.4-35) experimental; urgency=low

  * opsiclientd0.7.2.1
  * preloginloader.ins: GetNTVersion replaced by GetMsVersionInfo to support all windows versions correctly
	* replaced DosInAnIcon_vista64_loginblocker by ExecWith_vista64_loginblocker
	* added ExecWith_del_vista64_loginblocker
	* added ExecWith_xp64_loginblocker and ExecWith_xp64_loginblocker_start
	* forced the use of opsiclientd if windows version >= 5.2
	* replaced GetRegistryStringValue by sub_retrieve_registry_data
	* fixed problems on 64-Bit deinstall
	* all 'copy -v' replaced by 'copy -V'

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 19 Nov 2009 15:00:00 +0100

preloginloader (3.4-34) experimental; urgency=low
  * replaced setacl.exe setacl-cmdline-2.0.3.0-binary-x86/SetACL.exe
    https://forum.opsi.org/viewtopic.php?f=6&t=1049

 -- Bardo Wolf <b.wolf@uib.de>

preloginloader (3.4-33) highly experimental; urgency=low

  * delpreloginloader.ins: GetNTVersion replaced by GetMsVersionInfo to support all windows versions correctly
  * opsiclient 0.7.1
      - user login events
      - new event config option: action_type
      - new event config option: action_processor_timeout
      - new event config option: process_shutdown_requests
      - code cleanups

 -- Detlef Oertel <d.oertel@uib.de>  Wed, 4 Nov 2009 15:00:00 +0100

preloginloader (3.4-32) highly experimental; urgency=low

  * opsiclientd 0.7, winst 4.9.3

 -- Jan Schneider <j.schneider@uib.de>  Tue, 3 Nov 2009 18:12:52 +0100

preloginloader (3.4-31) experimental; urgency=low

  * opsiclientd 0.5.9
      - opsiclientd.conf: new option "username = [domain\]<username>" in section [depot_server] (smb auth username)
      - same action processor behaviour on nt5/6/7 (action_processor_starter.exe)
      - by default no local user will be created. Action processor will run as system user.
        Use config "[action_processor] run_as_user = <username>" to run as an admin user.
        If run_as_user is given the user will be automatically created, added to local admin group
        and deleted after action processing.

 -- Jan Schneider <j.schneider@uib.de>  Wed, 23 Sep 2009 18:12:52 +0100

preloginloader (3.4-30) experimental; urgency=low

  * opsiclientd 0.5.8.1

 -- Jan Schneider <j.schneider@uib.de>  Wed, 23 Sep 2009 18:12:52 +0100

preloginloader (3.4-29) experimental; urgency=low

  * opsiclientd 0.5.8

 -- Jan Schneider <j.schneider@uib.de>  Wed, 23 Sep 2009 12:09:00 +0100

preloginloader (3.4-28) experimental; urgency=low

	* set_ip_in_inifile replaced by patch_config_file.py
	* fix: config.ini: create the correct service url on depot servers
	* config.ini: client_servicetype will now be patched with product property value
	* turn on login event logging
	* winst 4.9.1
	* for opsi 3.4

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 17 Sep 2009 15:00:00 +0100

preloginloader (3.4-27) productive; urgency=low

	* prelogin default in config.ini and control file
	* for opsi 3.4

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 28 Aug 2009 15:00:00 +0100

preloginloader (3.4-26) productive; urgency=low

	* for opsi 3.4

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 28 Aug 2009 15:00:00 +0100

preloginloader (3.4-25) productive; urgency=low

	* for opsi 3.3.1
	* fix: switch to opsiclientd mode if <= NT6 moved
	* fix: don't set preloginvista installtion status, if it is not installed
	* set [opsiclientd] global.log_level=3

 -- Detlef Oertel <d.oertel@uib.de>  Fri, 28 Aug 2009 15:00:00 +0100

preloginloader (3.4-24) productive; urgency=low

	* for opsi 3.4

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 9 Jun 2009 15:00:00 +0100


preloginloader (3.4-23) productive; urgency=low

  * c:\tmp opend for all users
	* fix setacl on opsiclientd directory
	* set akt_gina to chain gina
	* for opsi 3.3.1

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 9 Jun 2009 15:00:00 +0100

 preloginloader (3.4-22) productive; urgency=low

  * bug fix postinst: create always *.template
	* integrated to templates: files/opsi/opsi-winst/winstskin/bg.png
	* winst 4.8.8
	* opsiclientd 0.5.7.4

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 9 Jun 2009 15:00:00 +0100


preloginloader (3.4-21) productive; urgency=low

  * opsiclientd 0.5.7.3 eval version

 -- Jan Schneider <j.schneider@uib.de>  Mon, 22 Jun 2009 11:10:48 +0200

preloginloader (3.4-20) productive; urgency=low

  * opsiclientd 0.5.7.3
       - Automatic update of host_id
       - Fixed wql event logging (crash with Cisco VPN Client)
       - Fixed event.ini

 -- Jan Schneider <j.schneider@uib.de>  Fri, 19 Jun 2009 13:02:35 +0200

preloginloader (3.4-19) productive; urgency=low

  * opsiclientd 0.5.7 eval version
  * Registry_SetGeneralEntries moved from install to update
  * bugfix line 333: set $INST_client_servicetype$ (set was missed)

 -- Jan Schneider <j.schneider@uib.de>  Wed,  3 Jun 2009 11:56:19 +0200

preloginloader (3.4-18) productive; urgency=low

  * status changed 3.4-17 -> 3.4-18 to productive
  * bug fix: $PLG_WinstRegKey$ = "SOFTWARE\opsi.org\winst" ( and not = "HKLM\SOFTWARE\opsi.org\winst"

 -- Detlef Oertel <d.oertel@uib.de>  Thu, 28 May 2009 10:00:00 +0100

preloginloader (3.4-17) experimental; urgency=low
  * opsiclientd 0.5.7
       - block login notifier removed
       - wait for gui app added
  * fixed preinst script
  * Loglevel for pgina (loginblocker) set to 8
	* bugfix at sub_write_configuration in branch prelogin: comment "start logging again"
	* property 'forceConfigurationUpdate' deleted
	* Registry_hklm_set_depotshare_trusted and Registry_UAC_off moved from INSTALL to UPDATE
	* Inserted [Patches_SetShareinfoEntries_pckey] and [DosInAnIcon_lock_pckey] at sub_write_configuration for mode INSTALL (prelogin)
	* Parameter "/u" for running service_setup.cmd unattended. Note: in the config.ini are valid account data needed.
	* cleanup config.ini
	* in sub_read_configuration GetIni calls replaced by GetValueFromInifile (with default value)
	* in sub_read_configuration IniVar("client_servicetype") is only used if the result is not ""

 -- Detlef Oertel <d.oertel@uib.de>  Mon, 18 May 2009 10:00:00 +0100

preloginloader (3.4-16) productive; urgency=low

  * opsiclientd 0.5.6.5
       - block login notifier added
       - logging changed

 -- Jan Schneider <j.schneider@uib.de>  Fri, 15 May 2009 17:13:36 +0200

preloginloader (3.4-15) productive; urgency=low

  * winexe 0.90

 -- Jan Schneider <j.schneider@uib.de>  Fri,  8 May 2009 11:03:30 +0200

preloginloader (3.4-14) productive; urgency=low

  * opsi-deploy-preloginloader 0.8.9
       fixed execution of winexe
  * preinst / postinst mechanism keeps changed action.bmp, event.bmp and opsiclientd.conf
  * preloginloader.ins
       get domain name from config service only if not set in config file

 -- Jan Schneider <j.schneider@uib.de>  Mon,  4 May 2009 17:23:48 +0200

preloginloader (3.4-13) productive; urgency=low

  * opsi-deploy-preloginloader 0.8.8
       do not show password in log
  * trust depot share on all windows versions

 -- Jan Schneider <j.schneider@uib.de>  Tue, 28 Apr 2009 17:57:00 +0200

preloginloader (3.4-12) productive; urgency=low

  * opsiclientd 0.5.5
       Fixed double connect on service host unreachable

 -- Jan Schneider <j.schneider@uib.de>  Mon, 27 Apr 2009 11:44:47 +0200

preloginloader (3.4-11) productive; urgency=low

  * Delete GnuWin32 from startmenu
  * opsiclientd 0.5.2
       Introducing product sync
       Connection thread killable

 -- Jan Schneider <j.schneider@uib.de>  Thu,  9 Apr 2009 14:37:12 +0100

preloginloader (3.4-10) productive; urgency=low

  * no reboot in install submode BOOTIMAGE to get postinst.d mechanism to work
  * opsi-deploy-preloginloader 0.8.6
       pass backendManager config location to constructor

 -- Jan Schneider <j.schneider@uib.de>  Wed, 25 Mar 2009 12:17:05 +0100

preloginloader (3.4-9) productive; urgency=low
  * set the host_id in opsiclientd.conf
       section global
       # the full qualified host name of the client
       host_id =
  * sectionPatches_opsiclientd_conf_key
       set global host_id=$INST_ClientId$
  * sec Files_copy_py2exe option -v replace with -V
  * winst 4.8.4 integrated
  * opsi-deploy-preloginloader: path to winst and shutdown changed from utils to opsi-winst
  * correct shutdown.exe added
 -- Detlef Oertel <d.oertel@uib.de>  Thu, 19 Mar 2009 14:00:00 +0100

preloginloader (3.4-8) productive; urgency=low
  * changed condition for installation:
        set $INST_NTVersion$ = GetMsVersionInfo
        ;if not($INST_MinorOS$ = "Windows Vista") or ($INST_MinorOS$ = "WinXP") or ($INST_MinorOS$ = "Win2k"))
        if ($INST_NTVersion$ INT< "5")
  * changed condition for change from prelogin to opsiclientd:
        if (($INST_NTVersion$ >= "6") and ($INST_client_servicetype$ = "prelogin"))
  * winst 4.8.3 integrated
  * [Files_copy_py2exe] option -v removed
 -- Detlef Oertel <d.oertel@uib.de>  Tue, 17 Mar 2009 14:00:00 +0100

preloginloader (3.4-7) productive; urgency=low
  * python-opsi 3.3.1.3
     - fixed bug in System/Windows.py getPids()
  * opsiclientd 0.4.7.2
     - writing log to service after processing shutdown/reboot requests
 -- Jan Schneider <j.schneider@uib.de>  Wed, 25 Feb 2009 11:39:41 +0100

preloginloader (3.4-6) productive; urgency=low
  * opsiclientd 0.4.7.1
  * 64 Bit Loginblocker Vista
  * DosInAnIcon_vista64_loginblocker
  * Files_redist_cleanup
 -- Detlef Oertel <d.oertel@uib.de>  Mon, 16 Feb 2009 11:20:29 +0100

preloginloader (3.4-5) productive; urgency=low
  * bug fix in opsiclientd.conf at event_vpn_startup:
    (-) %event_net_startup.service_options%
    (+) %event_vpn_startup.service_options%
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  16 Feb 2009 11:23:12 +0100

preloginloader (3.4-4) productive; urgency=low
  * new winst 4.8.0.3
  * cleanup
  * uninstall added
  * debug=off
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  5 Feb 2009 18:00:00 +0100

preloginloader (3.4-3) experimental; urgency=low
  * Registry_add_shutdown_key added
  * product property install_as_exe_with_library removed (is now standard)
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  30 Jan 2009 13:43:57 +0100

preloginloader (3.4-2) experimental; urgency=low
  * integrating legacy prelogin installation
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  19 Jan 2009 13:43:57 +0100

preloginloader (3.4-1) experimental; urgency=low
  * based on preloginvista 1.3-3 with preloginloader 3.3-25
  * property client-servicetype with the possiblities opsiclientd and prelogin
  * default client-servicetype is opsiclientd
    * opsiclientd is python based
    * installed as exe (via py2exe) with all libraries
    * runs with win2k, winxp, Vista, Win7, Server 2000/2003/2008
  * alternativ client-servicetype is prelogin
    * prelogin is legacy
    * prelogin runs with win2k, winxp, Server 2000/2003
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  19 Jan 2009 13:43:57 +0100

preloginloader (3.3-25) experimental; urgency=low
  * neue pgina.dll
  * preloginloader.ins and delpreloginloader.ins modified (new registry key for pgina)
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  13 Jan 2009 00:00:00 +0100

preloginloader (3.3-24) experimental; urgency=low
  * pingcheck als product property
  * ip2mac als exe
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  24 Nov 2008 00:00:00 +0100

preloginloader (3.3-23) experimental; urgency=low
  * pcptch.exe 3.9.3 integrated
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  5 Nov 2008 00:00:00 +0100

preloginloader (3.3-22) experimental; urgency=low
  * opsi-winst 4.7.4-5 integrated
 -- Detlef Oertel <d.oertel@uib.de>  Mon,  3 Nov 2008 00:00:00 +0100

preloginloader (3.3-21) experimental; urgency=low
  * Deinstallation erweitert
    * Ginadll wird auf die von pgina gechainte zurueckgesetzt
    * per runonce wird der rest nach reboot geloescht
    * deinstall.cmd verbessert
  * Sicherung der urspruenglichen Gina Konfiguration korrigiert (verschoben)
  * Datenausfuehrungs-Verhinderung kurz DEP (Data Execution Prevention) fuer pcptch.exe ausgeschaltet
    Hat sonst auf Server 2003 Probleme gegeben
  * Serviceabhaengigkeit definiert:
      preloginloader ist abhaengig von:
      Set "DependOnService" = REG_MULTI_SZ:"Tcpip|LanmanWorkstation"
  * $INST_ServiceName$ entfernt
  * WinVista ausgeschlossen

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  29 Sep 2008 00:00:00 +0100

preloginloader (3.3-20) experimental; urgency=low
  * neue Version von opsi-deploy-preloginloader
    * Hostnamen werden automatisch in Kleinbuchstaben umgewandelt
    * Beim Auftreten von Fehlern wird ein gemouteter C$-share sauber entfernt
  * winst Version 4.7.3.0
    * Geändertes Verhalten bei Beendigung

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  29 Sep 2008 00:00:00 +0100

preloginloader (3.3-19) experimental; urgency=low
  * Durch Umbau-Arbeiten im bootimage hat sich das Verhalten des patcha Programms geaendert,
    so dass bei der Initialen preloginloader Installation opsiServertype und opsiServiceUrl
    verloren gegangen sind wenn diese Werte nicht explizit ueber nextBootServiceURL und nextBootServerType gesetzt wurden.
    preloginloader.ins prueft jetzt auf Platzhalter *und* Leerstring

 -- Detlef Oertel <d.oertel@uib.de>  Mon,  5 Sep 2008 00:00:00 +0100


