pull-binaries:
  # opsi client daemon
  - name: opsiclientd
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: false
    post-script: []
    os: windows
    architecture: x86
    version: ~4.2.0.90
    branch: development
    server-url: http://binaryindex.uib.gmbh

 # opsi-script binaries
  - name: opsi-script-bin
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.12.4.26
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-script common files
  - name: opsi-script-common
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script:
      linux:
        - cp -r CLIENT_DATA/files/opsi-script-common/* CLIENT_DATA/files/opsi-script/
        - rm -r CLIENT_DATA/files/opsi-script-common
      windows:
        - Copy-Item -Path CLIENT_DATA\\files\\opsi-script-common\\* -Destination CLIENT_DATA\\files\\opsi-script\\ -Recurse
        - Remove-Item -Recurse -Force CLIENT_DATA\\files\\opsi-script-common
    os: all
    architecture: all
    version: 4.12.4.26
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi kiosk included in opsipackage
  - name: kiosk-package
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: all
    version: 4.1.1.8-8
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-login-blocker - prevents login during opsi task execution
  - name: opsi-login-blocker
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: all
    version: 4.2.0.0
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-notifier
  - name: opsi-notifier
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.2.0.1
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-systray
  - name: opsi-client-systray
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.1.2.5
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi client agent installation helper (as binary)
  - name: oca-installation-helper
    server-type: binaryindex
    destination: CLIENT_DATA
    extract: true
    post-script:
      linux:
        - chmod 755 CLIENT_DATA/oca-installation-helper.exe
    os: windows
    architecture: x86
    version: 4.2.0.4
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi deployment script (as binary)
  - name: opsideployclientagent
    server-type: binaryindex
    destination: CLIENT_DATA
    extract: true
    post-script: []
    os: linux
    architecture: x64
    version: 4.2.0.13
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # Visual C++ redistributable 2015
  # This needed for opsi-login-blocker x86 >= 4.2.0.0
  # mirrored via: opsi-dev-tool --binary-mirror https://aka.ms/vs/16/release/vc_redist.x86.exe vc_redist 'exe:::exe:windows' x86 '16/:::16/:2015'
  - name: vc_redist
    server-type: binaryindex
    destination: CLIENT_DATA/files/vcredist2015/
    extract: true
    os: windows
    architecture: x86
    version: 2015
    branch: mirror
    server-url: http://binaryindex.uib.gmbh

  # Visual C++ redistributable 2015
  # This needed for opsi-login-blocker x64 >= 4.2.0.0
  # mirrored via: opsi-dev-tool --binary-mirror https://aka.ms/vs/16/release/vc_redist.x64.exe vc_redist 'exe:::exe:windows' x64 '16/:::16/:2015'
  - name: vc_redist
    server-type: binaryindex
    destination: CLIENT_DATA/files/vcredist2015/
    extract: true
    os: windows
    architecture: x64
    version: 2015
    branch: mirror
    server-url: http://binaryindex.uib.gmbh
