pull-binaries:
  # opsi client daemon
  - name: opsiclientd
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: false
    post-script: []
    os: windows
    architecture: x86
    version: 4.2.0.103
    branch: development
    server-url: http://binaryindex.uib.gmbh

 # opsi-script binaries
  - name: opsi-script-bin
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.12.4.34
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-script common files
  - name: opsi-script-common
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script:
      linux:
        - cp -r CLIENT_DATA/files/opsi-script-common/* CLIENT_DATA/files/opsi-script/
        - rm -r CLIENT_DATA/files/opsi-script-common
      windows:
        - Copy-Item -Path CLIENT_DATA\\files\\opsi-script-common\\* -Destination CLIENT_DATA\\files\\opsi-script\\ -Recurse
        - Remove-Item -Recurse -Force CLIENT_DATA\\files\\opsi-script-common
    os: all
    architecture: all
    version: 4.12.4.31
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi kiosk included in opsipackage
  - name: kiosk-package
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: all
    version: 4.1.1.8-8
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-login-blocker - prevents login during opsi task execution
  - name: opsi-login-blocker
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: all
    version: 4.2.0.1
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-notifier
  - name: opsi-notifier
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.2.0.3
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi-systray
  - name: opsi-client-systray
    server-type: binaryindex
    destination: CLIENT_DATA/files
    extract: true
    post-script: []
    os: windows
    architecture: x86
    version: 4.1.2.5
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi client agent installation helper (as binary)
  - name: oca-installation-helper
    server-type: binaryindex
    destination: CLIENT_DATA
    extract: true
    post-script:
      linux:
        - chmod 755 CLIENT_DATA/oca-installation-helper.exe
    os: windows
    architecture: x86
    version: 4.2.0.11
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # opsi deployment script (as binary)
  - name: opsi-deploy-client-agent
    server-type: binaryindex
    destination: CLIENT_DATA
    extract: true
    post-script: []
    os: linux
    architecture: x64
    version: 4.2.0.15
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # Visual C++ redistributable 2015-2022
  # This needed for opsi-login-blocker x86 >= 4.2.0.0 and opsiclientd
  - name: vcredist2015-2022
    server-type: binaryindex
    destination: CLIENT_DATA/files/vcredist/
    extract: true
    post-script:
      - chmod u+x,g+x CLIENT_DATA/files/vcredist/*.exe
    os: windows
    architecture: x86
    version: 14.30.30528.0
    branch: development
    server-url: http://binaryindex.uib.gmbh

  # Visual C++ redistributable 2015-2022
  # This needed for opsi-login-blocker x86 >= 4.2.0.0 and opsiclientd
  - name: vcredist2015-2022
    server-type: binaryindex
    destination: CLIENT_DATA/files/vcredist/
    extract: true
    post-script:
      - chmod u+x,g+x CLIENT_DATA/files/vcredist/*.exe
    os: windows
    architecture: x64
    version: 14.30.30528.0
    branch: development
    server-url: http://binaryindex.uib.gmbh
